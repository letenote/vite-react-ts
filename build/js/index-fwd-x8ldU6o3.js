import{r as e,l as t,k as a,s as r,f as o,b as n,_ as i,j as s,h as l,i as d,a as c,Y as p,g as m,X as u,C as h,R as g,z as y,$ as x,a7 as f}from"./vendor-fwd-1SGvIy31.js";import{d as v,M as b}from"./index-fwd-LcBzpfNx.js";import{d as j}from"./Visibility-fwd-Vs-P4HLI.js";import{d as w}from"./MoreVert-fwd-WWrhY7aJ.js";import{h as k}from"./moment-fwd-Q1JHmZVX.js";import{R}from"./Permission.enum-fwd-pLKPg_gz.js";import{B as C}from"./BudgetStatus.enum-fwd-ooaJayoQ.js";import{u as M}from"./main-fwd--n1B72RI.js";import{T}from"./TrainingStatusType.enum-fwd-N0jD9jO9.js";import{M as N}from"./Menu-fwd-Vl9pMXPK.js";import P from"./index-fwd-v2U3PscQ.js";import{M as A}from"./MenuItem-fwd-JVQWDuju.js";import{L as E}from"./ListItem-fwd-iX4GRk4M.js";import{L as S}from"./ListItemAvatar-fwd-_WncWLnl.js";import{A as _}from"./Avatar-fwd-DjoP233w.js";import{L as z}from"./ListItemText-fwd-f8rlfGNg.js";import D from"./index-fwd-hPOcf5d2.js";import{C as B}from"./Chip-fwd-PLmggBsV.js";import H from"./index-fwd-zt72GgeW.js";import O from"./index-fwd-QlVXGDcN.js";import{P as I}from"./Paper-fwd-WFaa4pXn.js";const $=e.createContext();function G(e){return t("MuiTable",e)}a("MuiTable",["root","stickyHeader"]);const Y=["className","component","padding","size","stickyHeader"],V=r("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.stickyHeader&&t.stickyHeader]}})((({theme:e,ownerState:t})=>o({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":o({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"}))),L="table",U=e.forwardRef((function(t,a){const r=n({props:t,name:"MuiTable"}),{className:c,component:p=L,padding:m="normal",size:u="medium",stickyHeader:h=!1}=r,g=i(r,Y),y=o({},r,{component:p,padding:m,size:u,stickyHeader:h}),x=(e=>{const{classes:t,stickyHeader:a}=e;return d({root:["root",a&&"stickyHeader"]},G,t)})(y),f=e.useMemo((()=>({padding:m,size:u,stickyHeader:h})),[m,u,h]);return s.jsx($.Provider,{value:f,children:s.jsx(V,o({as:p,role:p===L?null:"table",ref:a,className:l(x.root,c),ownerState:y},g))})})),W=e.createContext();function F(e){return t("MuiTableBody",e)}a("MuiTableBody",["root"]);const J=["className","component"],q=r("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),X={variant:"body"},K="tbody",Q=e.forwardRef((function(e,t){const a=n({props:e,name:"MuiTableBody"}),{className:r,component:c=K}=a,p=i(a,J),m=o({},a,{component:c}),u=(e=>{const{classes:t}=e;return d({root:["root"]},F,t)})(m);return s.jsx(W.Provider,{value:X,children:s.jsx(q,o({className:l(u.root,r),as:c,ref:t,role:c===K?null:"rowgroup",ownerState:m},p))})}));function Z(e){return t("MuiTableCell",e)}const ee=a("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),te=["align","className","component","padding","scope","size","sortDirection","variant"],ae=r("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t[`size${c(a.size)}`],"normal"!==a.padding&&t[`padding${c(a.padding)}`],"inherit"!==a.align&&t[`align${c(a.align)}`],a.stickyHeader&&t.stickyHeader]}})((({theme:e,ownerState:t})=>o({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid\n    ${"light"===e.palette.mode?p(m(e.palette.divider,1),.88):u(m(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},"head"===t.variant&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},"body"===t.variant&&{color:(e.vars||e).palette.text.primary},"footer"===t.variant&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},"small"===t.size&&{padding:"6px 16px",[`&.${ee.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===t.padding&&{width:48,padding:"0 0 0 4px"},"none"===t.padding&&{padding:0},"left"===t.align&&{textAlign:"left"},"center"===t.align&&{textAlign:"center"},"right"===t.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===t.align&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}))),re=e.forwardRef((function(t,a){const r=n({props:t,name:"MuiTableCell"}),{align:p="inherit",className:m,component:u,padding:h,scope:g,size:y,sortDirection:x,variant:f}=r,v=i(r,te),b=e.useContext($),j=e.useContext(W),w=j&&"head"===j.variant;let k;k=u||(w?"th":"td");let R=g;"td"===k?R=void 0:!R&&w&&(R="col");const C=f||j&&j.variant,M=o({},r,{align:p,component:k,padding:h||(b&&b.padding?b.padding:"normal"),size:y||(b&&b.size?b.size:"medium"),sortDirection:x,stickyHeader:"head"===C&&b&&b.stickyHeader,variant:C}),T=(e=>{const{classes:t,variant:a,align:r,padding:o,size:n,stickyHeader:i}=e,s={root:["root",a,i&&"stickyHeader","inherit"!==r&&`align${c(r)}`,"normal"!==o&&`padding${c(o)}`,`size${c(n)}`]};return d(s,Z,t)})(M);let N=null;return x&&(N="asc"===x?"ascending":"descending"),s.jsx(ae,o({as:k,ref:a,className:l(T.root,m),"aria-sort":N,scope:R,ownerState:M},v))}));function oe(e){return t("MuiTableContainer",e)}a("MuiTableContainer",["root"]);const ne=["className","component"],ie=r("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),se=e.forwardRef((function(e,t){const a=n({props:e,name:"MuiTableContainer"}),{className:r,component:c="div"}=a,p=i(a,ne),m=o({},a,{component:c}),u=(e=>{const{classes:t}=e;return d({root:["root"]},oe,t)})(m);return s.jsx(ie,o({ref:t,as:c,className:l(u.root,r),ownerState:m},p))}));function le(e){return t("MuiTableHead",e)}a("MuiTableHead",["root"]);const de=["className","component"],ce=r("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),pe={variant:"head"},me="thead",ue=e.forwardRef((function(e,t){const a=n({props:e,name:"MuiTableHead"}),{className:r,component:c=me}=a,p=i(a,de),m=o({},a,{component:c}),u=(e=>{const{classes:t}=e;return d({root:["root"]},le,t)})(m);return s.jsx(W.Provider,{value:pe,children:s.jsx(ce,o({as:c,className:l(u.root,r),ref:t,role:c===me?null:"rowgroup",ownerState:m},p))})}));function he(e){return t("MuiTableRow",e)}const ge=a("MuiTableRow",["root","selected","hover","head","footer"]),ye=["className","component","hover","selected"],xe=r("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.head&&t.head,a.footer&&t.footer]}})((({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${ge.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${ge.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:m(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:m(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),fe="tr",ve=e.forwardRef((function(t,a){const r=n({props:t,name:"MuiTableRow"}),{className:c,component:p=fe,hover:m=!1,selected:u=!1}=r,h=i(r,ye),g=e.useContext(W),y=o({},r,{component:p,hover:m,selected:u,head:g&&"head"===g.variant,footer:g&&"footer"===g.variant}),x=(e=>{const{classes:t,selected:a,hover:r,head:o,footer:n}=e;return d({root:["root",a&&"selected",r&&"hover",o&&"head",n&&"footer"]},he,t)})(y);return s.jsx(xe,o({as:p,ref:a,className:l(x.root,c),role:p===fe?null:"row",ownerState:y},h))})),be={head:{backgroundColor:"#fed1af",fontWeight:600,padding:"16px 8px 16px 16px"},body:{fontSize:14,padding:"8px 8px 8px 16px"}};function je(e,t){const a=e.split(/[\.\[\]'"]/).filter((e=>e));let r=t;try{return a.forEach((e=>r=r[e])),void 0===r||0===Object.keys(r).length&&r.constructor===Object||"[object Object]"===Object.prototype.toString.call(r)?"undefinedGlobal.formated":function(e,t){switch(`${e}`){case"createdAt":return k(t).format("DD MMM YYYY");case"cost":case"budget,cost":return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t);default:return t}}(a,r)}catch(o){return"undefinedGlobal.formated"}}var we=(e=>(e.BUDGET_PAGE="BUDGET_PAGE",e.TRAINING_PAGE="TRAINING_PAGE",e.PAYMENT_PAGE="PAYMENT_PAGE",e))(we||{});const ke=(e,t)=>e.isDraft?C.DRAFT:null===e.reviewBy?t===R.HRO?C.NEED_REVIEW:C.IN_PROGRESS:null!==e.rejectedByCfo||null!==e.rejectedByChrmo?C.REJECT:null!==e.approvedByCfo||null!==e.approvedByChrmo?C.APPROVE:null===e.approvedByCfo||null===e.approvedByChrmo?t===R.CHRMO||t===R.CFO?C.NEED_APPROVE:C.IN_PROGRESS:C.UNKNOWN,Re=e=>{switch(e){case C.DRAFT:return"secondary";case C.IN_PROGRESS:return"info";case C.APPROVE:return"success";case C.NEED_REVIEW:case C.NEED_APPROVE:return"warning";default:return"error"}},Ce=e=>{let t=[];return null!==e.rejectedByChrmo&&t.push("reject"),null!==e.rejectedByCfo&&t.push("reject"),null!==e.approvedByChrmo&&t.push("approve"),null!==e.approvedByCfo&&t.push("approve"),!(t.length>0)},Me=h(ve)((()=>({"&:nth-of-type(odd)":{backgroundColor:"rgb(0 0 0 / 2%)"},"&:last-child td, &:last-child th":{border:0}}))),Te=h(re)((()=>({[`&.${ee.head}`]:be.head,[`&.${ee.body}`]:be.body}))),Ne=h((e=>s.jsx(N,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((()=>({"& .MuiPaper-root":{borderRadius:6,marginTop:1,minWidth:180,color:"rgb(55, 65, 81)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18}}}}))),Pe=e=>e.impl===we.BUDGET_PAGE?Ce(e.data)?null!==e.data.reviewBy?null:Ae({onClick:e.onClick}):null:Ae({onClick:e.onClick}),Ae=e=>s.jsxs(A,{onClick:e.onClick,disableRipple:!0,children:[s.jsx(v,{sx:{mr:1.5}}),"Edit"]}),Ee=e=>{switch(e.impl){case we.BUDGET_PAGE:return _e({data:e.data,_key:e._key,role:e.role});case we.TRAINING_PAGE:return Se({data:e.data,_key:e._key,role:e.role});case we.PAYMENT_PAGE:return ze({data:e.data,_key:e._key,role:e.role});default:return je(e._key,e.data)}},Se=e=>{var t;switch(e._key){case"startDate":return s.jsx(D,{variant:"caption",display:"block",gutterBottom:!0,children:`${k(e.data.startDate).format("DD MMM YYYY")} - ${k(e.data.endDate).format("DD MMM YYYY")}`});case"trainingType.name":return s.jsx(B,{label:e.data.trainingType.name,size:"small",color:"info",variant:"outlined"});case"participants":return s.jsx(D,{variant:"caption",display:"block",gutterBottom:!0,children:`${e.data.participants.length} Employee`});case"payments.isPaid":const a=e.data.payments.filter((e=>e.isPaid)).length===e.data.payments.length?T.PAID:T.UNPAID;return s.jsx(B,{label:a,size:"small",color:a===T.PAID?"success":"warning",variant:"outlined"});case"cost":const r=Number(e.data.payments.reduce(((e,t)=>e+Number(t.cost)),0));return s.jsx(D,{variant:"body2",display:"block",gutterBottom:!0,children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(r)});case"createdBy.name":return s.jsxs(E,{alignItems:"flex-start",sx:{p:0},children:[s.jsx(S,{sx:{marginRight:"-10px"},children:s.jsx(_,{alt:"Remy Sharp",sx:{width:35,height:35}})}),s.jsx(z,{primary:je(e._key,e.data),secondary:s.jsx("span",{style:{fontSize:"12px",marginTop:"-5px"},children:(null==(t=e.data)?void 0:t.createdBy.departement.name)??"-"})})]});default:return je(e._key,e.data)}},_e=e=>{var t,a,r;switch(e._key){case"status":return s.jsx(B,{label:ke(e.data,e.role),size:"small",color:Re(ke(e.data,e.role)),variant:"outlined"});case"requestBy.name":return s.jsxs(E,{alignItems:"flex-start",sx:{p:0},children:[s.jsx(S,{sx:{marginRight:"-10px"},children:s.jsx(_,{alt:"Remy Sharp",sx:{width:35,height:35}})}),s.jsx(z,{primary:je(e._key,e.data),secondary:s.jsx("span",{style:{fontSize:"12px",marginTop:"-5px"},children:(null==(r=null==(a=null==(t=e.data)?void 0:t.requestBy)?void 0:a.departement)?void 0:r.name)??"-"})})]});case"training":return s.jsx("div",{style:{color:ke(e.data,e.role)===C.APPROVE?null===e.data.training?y[500]:x[500]:f[500],fontWeight:900},children:ke(e.data,e.role)===C.APPROVE?null===e.data.training?"Have not been used":"Already used":"-"});default:return je(e._key,e.data)}},ze=e=>"isPaid"===e._key?s.jsx(B,{label:e.data.isPaid?"Paid":"Unpaid",size:"small",color:e.data.isPaid?"success":"warning",variant:"outlined"}):je(e._key,e.data),De=g.memo((e=>{const{user:t}=M((e=>e.settings)),[a,r]=g.useState(null),o=Boolean(a),n=()=>{r(null)};return s.jsxs(g.Fragment,{children:[s.jsxs(Me,{children:[e.getValue.map(((a,r)=>s.jsx(Te,{component:"th",scope:"row",children:Ee({impl:e.impl,data:e.data,_key:a,role:t.role})},r))),e.useAction&&s.jsx(Te,{align:"center",children:s.jsx(g.Fragment,{children:s.jsx(P,{"aria-label":"settings",size:"small",onClick:e=>{r(e.currentTarget)},children:s.jsx(w,{})})})})]}),s.jsxs(Ne,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:a,open:o,onClose:n,children:[e.action.view.use&&s.jsxs(A,{onClick:()=>{n(),e.action.view.onClick(e.index)},disableRipple:!0,children:[s.jsx(j,{sx:{mr:1.5}}),"View"]}),e.action.edit.use&&Pe({impl:e.impl,data:e.data,onClick:()=>{n(),e.action.edit.onClick(e.index)}})]})]})}),((e,t)=>JSON.stringify(e)===JSON.stringify(t))),Be=r(re)((()=>({[`&.${ee.head}`]:be.head,[`&.${ee.body}`]:be.body}))),He={minHeight:"530px",display:"flex",justifyContent:"center"},Oe=e.memo((t=>s.jsx(e.Fragment,{children:t.loading?s.jsx(O,{sx:He,children:s.jsx(H,{message:"Loading.."})}):0===t.datas.length?s.jsx(O,{sx:He,children:s.jsx(b,{message:"Users Data is Empty"})}):s.jsx(I,{sx:{width:"100%",overflow:"hidden"},children:s.jsx(se,{component:I,sx:{maxHeight:720},children:s.jsxs(U,{sx:{minWidth:1200},stickyHeader:!0,"aria-label":"sticky table",children:[s.jsx(ue,{children:s.jsxs(ve,{children:[t.headers.map(((e,t)=>s.jsx(Be,{children:e},`${e}-${t}`))),t.useAction&&s.jsx(Be,{align:"center",children:"Action"})]})}),s.jsx(Q,{children:t.datas.map(((e,a)=>s.jsx(De,{index:a,impl:t.impl,data:e,getValue:t.getValue,useAction:t.useAction,action:t.action},a)))})]})})})})),((e,t)=>JSON.stringify(e)===JSON.stringify(t)));export{Oe as M,we as T,Ce as s};

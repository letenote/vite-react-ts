{"version":3,"file":"BudgetFilter-fwd-c7Vur1Pi.js","sources":["../../src/containers/Budget/child/schema/BudgetFormsFilterSchema.schema.ts","../../src/containers/Budget/child/BudgetFilter.tsx"],"sourcesContent":["import { ComponentFormType } from '../../../../components/Forms/enum/ComponentFormType.enum';\nimport { BudgetStatus } from '../../enum/BudgetStatus.enum';\nimport { BudgetFormsFilterType } from '../type/BudgetFormsFilterType.type';\n\nexport const BudgetFormsFilterSchema: BudgetFormsFilterType = {\n  name: {\n    id: 'name',\n    name: 'name',\n    fullWidth: true,\n    label: 'Name',\n    placeholder: 'Name',\n    required: false,\n    errorMessage: 'name required',\n    value: '',\n    disabled: false,\n    type: 'text',\n    componentType: ComponentFormType.INPUT_TEXT,\n    autoFocus: false,\n    autoComplete: '',\n    validate: {\n      pattern: {\n        value: /^/,\n        message: '',\n      },\n    },\n    options: [],\n  },\n  status: {\n    id: 'status',\n    name: 'status',\n    fullWidth: true,\n    label: 'Status',\n    placeholder: 'Status',\n    required: false,\n    errorMessage: 'Status required',\n    value: 'All',\n    disabled: false,\n    type: 'select',\n    componentType: ComponentFormType.INPUT_DROPDOWN,\n    autoFocus: false,\n    autoComplete: '',\n    validate: {\n      pattern: {\n        value: /^/,\n        message: '',\n      },\n    },\n    options: [\n      { value: BudgetStatus.ALL, label: BudgetStatus.ALL },\n      { value: BudgetStatus.DRAFT, label: BudgetStatus.DRAFT },\n      { value: BudgetStatus.IN_PROGRESS, label: BudgetStatus.IN_PROGRESS },\n      { value: BudgetStatus.APPROVE, label: BudgetStatus.APPROVE },\n      { value: BudgetStatus.REJECT, label: BudgetStatus.REJECT },\n    ],\n  },\n  date: {\n    id: 'date',\n    name: 'date',\n    fullWidth: true,\n    label: {\n      start: 'Start Date',\n      end: 'End Date',\n    },\n    placeholder: 'Date',\n    required: false,\n    errorMessage: 'date required',\n    value: [null, null],\n    disabled: false,\n    type: 'text',\n    componentType: ComponentFormType.INPUT_DATE_RANGE,\n    autoFocus: false,\n    autoComplete: '',\n    validate: {\n      pattern: {\n        value: /^/,\n        message: '',\n      },\n    },\n    options: [],\n  },\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport LoadingButton from \"@mui/lab/LoadingButton\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport React from \"react\";\nimport { BudgetFormsFilterType } from \"./type/BudgetFormsFilterType.type\";\nimport { BudgetFormsFilterSchema } from \"./schema/BudgetFormsFilterSchema.schema\";\nimport { useForm } from \"react-hook-form\";\nimport TextField from \"@mui/material/TextField\";\nimport { ComponentFormType } from \"../../../components/Forms/enum/ComponentFormType.enum\";\nimport SelectForm from \"../../../components/Forms/SelectForm\";\nimport DateRangeForm from \"../../../components/Forms/DateRangeForm\";\nimport { DateRange } from \"@mui/x-date-pickers-pro\";\nimport { useAppDispatch, useAppSelector } from \"../../../store\";\nimport { getBudgets } from \"../../../store/slice/page/budget/action/getBudgets\";\nimport { useLocation } from \"react-router-dom\";\nimport { BudgetStatus } from \"../enum/BudgetStatus.enum\";\nimport { RoleType } from \"../../../constant/Permission.enum\";\n\nconst BudgetFilter = () => {\n  const dispatch = useAppDispatch();\n  const location = useLocation();\n  const query = new URLSearchParams(location.search);\n  const page = parseInt(query.get(\"page\") || \"1\", 10);\n  const { user } = useAppSelector((state) => state.settings);\n  const defaultValues: BudgetFormsFilterType = JSON.parse(\n    JSON.stringify(BudgetFormsFilterSchema)\n  );\n  const form = useForm<BudgetFormsFilterType>({\n    defaultValues,\n  });\n  const { register, formState, handleSubmit, control } = form;\n  const { errors } = formState;\n\n  const onValid = (data: BudgetFormsFilterType) => {\n    dispatch(\n      getBudgets({\n        page,\n        startDate:\n          data.date.value[0] === null ? \"\" : data.date.value[0].toString(),\n        endDate:\n          data.date.value[1] === null ? \"\" : data.date.value[1].toString(),\n        status: data.status.value.toString(),\n        name: data.name.value.toString(),\n      })\n    );\n  };\n\n  return (\n    <Box\n      component=\"form\"\n      sx={{\n        mb: 3,\n        display: \"grid\",\n        gridTemplateColumns: { sm: \"1fr 0.4fr 1fr 0.4fr\" },\n        gap: 2,\n      }}\n      noValidate\n      autoComplete=\"off\"\n      onSubmit={handleSubmit(onValid)}\n    >\n      {Object.keys(defaultValues).map((field) => {\n        const _getField = field as keyof typeof defaultValues;\n        const _registerField = `${defaultValues[_getField].id}.value` as any;\n        switch (defaultValues[_getField].componentType) {\n          case ComponentFormType.INPUT_DROPDOWN:\n            return (\n              <SelectForm\n                key={_getField}\n                name={defaultValues[_getField].name}\n                registerField={_registerField}\n                id={defaultValues[_getField].id}\n                label={defaultValues[_getField].label.toString()}\n                required={defaultValues[_getField].required}\n                control={control}\n                error={false}\n                helperText={defaultValues[_getField].errorMessage}\n                value={defaultValues[_getField].value.toString()}\n                style={{\n                  marginLeft: 0,\n                  width: \"100%\",\n                  marginBottom: 0,\n                  marginTop: 0,\n                  backgroundColorLabel: \"#f5f5f5\",\n                }}\n                options={\n                  user.role !== RoleType.HD\n                    ? defaultValues[_getField].options.filter(\n                        (option) => option.label !== BudgetStatus.DRAFT\n                      )\n                    : defaultValues[_getField].options\n                }\n                disabled={defaultValues[_getField].disabled}\n              />\n            );\n          case ComponentFormType.INPUT_DATE_RANGE:\n            return (\n              <DateRangeForm\n                key={_getField}\n                error={false}\n                name={defaultValues[_getField].name}\n                registerField={_registerField}\n                id={defaultValues[_getField].id}\n                label={\n                  defaultValues[_getField].label as {\n                    start: string;\n                    end: string;\n                  }\n                }\n                required={defaultValues[_getField].required}\n                control={control}\n                disabled={defaultValues[_getField].disabled}\n                helperText={defaultValues[_getField].errorMessage}\n                value={defaultValues[_getField].value as DateRange<Date>}\n                style={{\n                  marginLeft: 0,\n                  width: \"100%\",\n                  marginBottom: 0,\n                  marginTop: 0,\n                }}\n              />\n            );\n          default:\n            return (\n              <TextField\n                sx={{ mt: 0, mb: 0 }}\n                key={_getField}\n                margin=\"normal\"\n                fullWidth={defaultValues[_getField].fullWidth}\n                label={defaultValues[_getField].label.toString()}\n                type={defaultValues[_getField].type}\n                autoFocus={defaultValues[_getField].autoFocus}\n                autoComplete={defaultValues[_getField].autoComplete}\n                {...register(_registerField, {\n                  required: {\n                    value: defaultValues[_getField].required,\n                    message: defaultValues[_getField].errorMessage,\n                  },\n                  disabled: defaultValues[_getField].disabled,\n                  pattern: {\n                    value: defaultValues[_getField].validate.pattern.value,\n                    message: defaultValues[_getField].validate.pattern.message,\n                  },\n                })}\n                error={!!errors[_getField]}\n                helperText={errors[_getField]?.value?.message}\n              />\n            );\n        }\n      })}\n      <LoadingButton\n        fullWidth\n        type=\"submit\"\n        loading={false}\n        disabled={false}\n        variant=\"contained\"\n        size=\"large\"\n        sx={{ mt: 0, mb: 0 }}\n      >\n        <Typography variant=\"button\" display=\"block\" gutterBottom>\n          Search\n        </Typography>\n      </LoadingButton>\n    </Box>\n  );\n};\n\nconst MemoizedBudgetFilter = React.memo(\n  BudgetFilter,\n  (prevProps, nextProps) => {\n    return JSON.stringify(prevProps) === JSON.stringify(nextProps);\n  }\n);\n\nexport default MemoizedBudgetFilter;\n"],"names":["BudgetFormsFilterSchema","name","id","fullWidth","label","placeholder","required","errorMessage","value","disabled","type","componentType","ComponentFormType","INPUT_TEXT","autoFocus","autoComplete","validate","pattern","message","options","status","INPUT_DROPDOWN","BudgetStatus","ALL","DRAFT","IN_PROGRESS","APPROVE","REJECT","date","start","end","INPUT_DATE_RANGE","MemoizedBudgetFilter","React","memo","dispatch","useAppDispatch","location","useLocation","query","URLSearchParams","search","page","parseInt","get","user","useAppSelector","state","settings","defaultValues","JSON","parse","stringify","form","useForm","register","formState","handleSubmit","control","errors","jsxRuntimeExports","jsxs","Box","component","sx","mb","display","gridTemplateColumns","sm","gap","noValidate","onSubmit","data","getBudgets","startDate","toString","endDate","children","Object","keys","map","field","_getField","_registerField","jsx","SelectForm","registerField","error","helperText","style","marginLeft","width","marginBottom","marginTop","backgroundColorLabel","role","RoleType","HD","filter","option","DateRangeForm","TextField","mt","margin","_b","_a","LoadingButton","loading","variant","size","Typography","gutterBottom","prevProps","nextProps"],"mappings":"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"}
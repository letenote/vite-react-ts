import{C as e,j as t,R as s,r as o,u as r,L as i}from"./vendor-fwd-1SGvIy31.js";import{s as a,n,u as d}from"./main-fwd--n1B72RI.js";import m from"./index-fwd-zt72GgeW.js";import{d as p,M as l}from"./index-fwd-LcBzpfNx.js";import{g as f}from"./getVendors-fwd-qqJy-Hwd.js";import{d as x,P as j,a as c}from"./MoreVert-fwd-WWrhY7aJ.js";import{M as g}from"./SelectInputDialogType.type-fwd-EhrzjEHx.js";import{M as w}from"./index-fwd-rz4yujvt.js";import{d as u}from"./ToggleOff-fwd-xoTx20q2.js";import{h as v}from"./moment-fwd-Q1JHmZVX.js";import{A as h,a as C}from"./API-fwd-wSBNwRC-.js";import{M as b}from"./VendorCreateAndUpdateDialog-fwd-PvEKK8H4.js";import{M as y}from"./Menu-fwd-Vl9pMXPK.js";import{C as D,a as I}from"./CardContent-fwd-w9gbeYrB.js";import{C as S}from"./CardHeader-fwd-Efk797OA.js";import M from"./index-fwd-v2U3PscQ.js";import A from"./index-fwd-QlVXGDcN.js";import{C as T}from"./Chip-fwd-PLmggBsV.js";import P from"./index-fwd-hPOcf5d2.js";import{D as B}from"./Divider-fwd-L0kvT4D9.js";import{M as L}from"./MenuItem-fwd-JVQWDuju.js";import O from"./index-fwd-fyRmXZir.js";import{S as R}from"./Stack-fwd-_b9icarT.js";import"./index-fwd-lbVkD5aF.js";import"./interopRequireDefault-fwd-TQpPSNg9.js";import"./createSvgIcon-fwd-C5HoRyYL.js";import"./createSvgIcon-fwd-3znVHFND.js";import"./index-fwd-8NRQb7QL.js";import"./TransitionGroupContext-fwd-AdrtyOFN.js";import"./DialogContent-fwd-CYcOnUyi.js";import"./Modal-fwd-p5WxUrg9.js";import"./utils-fwd-Aa8Nbi8J.js";import"./useSlotProps-fwd-4TF0dLOI.js";import"./Portal-fwd-EmXNK1q8.js";import"./Paper-fwd-WFaa4pXn.js";import"./DialogTitle-fwd-BhLgXYUL.js";import"./Button-fwd-V0oP7Gqc.js";import"./index-fwd-goasdrlS.js";import"./Close-fwd-cAl8Tvfj.js";import"./index.esm-fwd-rj9UIJ_I.js";import"./populateString-fwd-uH2jbhuZ.js";import"./ComponentFormType.enum-fwd-9JVL8E6k.js";import"./index-fwd-w_QQ1xSL.js";import"./index-fwd-YZzHoVcr.js";import"./index-fwd-lWyokz70.js";import"./index-fwd-qYMhiIGX.js";import"./KeyboardArrowLeft-fwd-YQdeLDYs.js";import"./getSelectInputOptions-fwd-ZVToRqqx.js";import"./AppBar-fwd-dzp-VbdY.js";import"./List-fwd-B3qUSFQa.js";import"./ListItem-fwd-iX4GRk4M.js";import"./ListItemText-fwd-f8rlfGNg.js";import"./listItemTextClasses-fwd-v4LoqRQE.js";import"./index-fwd-x_aeOfk5.js";import"./Grow-fwd-0-97KQP6.js";import"./dividerClasses-fwd-g7uA4vLh.js";import"./listItemIconClasses-fwd-R0gCvGgm.js";const z=e((e=>t.jsx(y,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((()=>({"& .MuiPaper-root":{borderRadius:6,marginTop:1,minWidth:180,color:"rgb(55, 65, 81)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18}}}}))),E=s.memo((e=>{const r=new URLSearchParams(location.search),i=parseInt(r.get("page")||"1",10),d=n(),[m,l]=s.useState(null),j=Boolean(m),c=()=>{l(null)},[y,O]=o.useState({open:!1}),[R,E]=o.useState({open:!1,loading:!1}),V=()=>{E({open:!1,loading:!1})};return t.jsxs(D,{children:[t.jsx(S,{action:t.jsx(M,{"aria-label":"settings",onClick:e=>{l(e.currentTarget)},children:t.jsx(x,{})}),title:t.jsxs(A,{sx:{textAlign:"left"},children:[t.jsx(T,{label:e.vendorData.isActive?"Active":"Inactive",color:e.vendorData.isActive?"success":"error",variant:"outlined",size:"small",sx:{mb:1}}),t.jsx(A,{sx:{display:"flex",alignItems:"center",position:"relative"},children:t.jsx(P,{variant:"body1",gutterBottom:!0,children:e.vendorData.name})})]}),subheader:t.jsxs(A,{children:[t.jsx(P,{variant:"body2",gutterBottom:!0,sx:{textAlign:"left"},children:e.vendorData.phone}),t.jsx(P,{variant:"body2",gutterBottom:!0,sx:{textAlign:"left"},children:e.vendorData.email})]})}),t.jsxs(I,{sx:{textAlign:"left"},children:[t.jsxs(P,{sx:{mt:1},variant:"caption",color:"text.secondary",children:["Created: ",v(e.vendorData.createdAt).format("DD-MM-YYYY")]}),t.jsx(B,{sx:{mb:2,mt:1}}),t.jsx(T,{label:e.vendorData.vendorType.name,size:"small"})]}),t.jsxs(z,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:m,open:j,onClose:c,children:[t.jsxs(L,{onClick:()=>{c(),O({open:!0})},disableRipple:!0,children:[t.jsx(p,{sx:{mr:1.5}}),"Edit"]}),t.jsxs(L,{onClick:()=>{c(),E({open:!0,loading:!1})},disableRipple:!0,children:[t.jsx(u,{sx:{mr:1.5}}),"Inactive"]})]}),y.open&&t.jsx(b,{open:y.open,closeEvent:()=>{O({open:!1})},methodType:g.UPDATE,populate:e.vendorData}),R.open&&t.jsx(w,{open:R.open,titleButtonDisagree:"Cancel",titleButtonAgree:"Inactive",title:"Inactive",subTitle:"Are you sure you want to inactive this vendor ?",onClose:V,loading:R.loading,onSubmit:()=>{var t;E((e=>({...e,loading:!0}))),d((t={data:{id:e.vendorData.id},successCB:()=>{V(),d(f({page:i}))},failedCB:()=>{E((e=>({...e,loading:!1})))}},async e=>{var s,o;try{return await new Promise((e=>setTimeout(e,1e3))),await h({method:"delete",url:"/v1/vendors/remove",payload:t.data}),e(a({open:!0,autoHideDuration:3e3,severity:"success",message:"Vendor Inactive"})),t.successCB()}catch(r){return C.isAxiosError(r)&&r.response&&(console.log("errr",(null==(s=r.response)?void 0:s.data).error),e(a({open:!0,autoHideDuration:3e3,severity:"warning",message:(null==(o=r.response)?void 0:o.data.message)??r.message??""}))),t.failedCB()}}))}})]})}),((e,t)=>JSON.stringify(e)===JSON.stringify(t))),V={minHeight:"530px",display:"flex",justifyContent:"center"},k=s.memo((()=>{const e=n(),{vendor:s}=d((e=>e.pages)),a=r(),p=new URLSearchParams(a.search),x=parseInt(p.get("page")||"1",10);return o.useEffect((()=>{e(f({page:x}))}),[e,x]),t.jsxs(t.Fragment,{children:[s.listLoading?t.jsx(A,{sx:V,children:t.jsx(m,{message:"Loading.."})}):0===s.list.length?t.jsx(A,{sx:V,children:t.jsx(l,{message:"Vendors Data is Empty"})}):t.jsx(A,{sx:{flexGrow:1},children:t.jsx(O,{container:!0,spacing:{xs:1,md:1},columns:{xs:4,sm:8,md:12},children:s.list.map(((e,s)=>t.jsx(O,{item:!0,xs:12,sm:6,md:3,children:t.jsx(E,{vendorData:e},s)},s)))})}),t.jsx(R,{spacing:2,sx:{alignItems:"center",mt:3},children:t.jsx(j,{page:x,count:s.totalPage,onChange:(t,s)=>{e(f({page:s}))},renderItem:e=>t.jsx(c,{component:i,to:"/vendor"+(1===e.page?"":`?page=${e.page}`),...e})})})]})}),((e,t)=>JSON.stringify(e)===JSON.stringify(t)));export{k as default};

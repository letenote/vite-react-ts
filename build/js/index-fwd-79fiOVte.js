import{P as e,r as t,S as o,B as a,T as r,n,f as i,l,k as s,s as d,a as u,b as p,_ as c,j as m,h as g,i as f,g as v,e as b,R as h,u as x,A as y,L as T}from"./vendor-fwd-1SGvIy31.js";import{C}from"./ComponentFormType.enum-fwd-9JVL8E6k.js";import{S as w}from"./SelectInputDialogType.type-fwd-EhrzjEHx.js";import{a as I,b as O,C as S}from"./index.esm-fwd-rj9UIJ_I.js";import{M as j}from"./index-fwd-Eq8uD1Os.js";import{a as P}from"./populateString-fwd-uH2jbhuZ.js";import{J as E,K as M,s as A,n as L,u as N,F as $}from"./main-fwd--n1B72RI.js";import{S as D}from"./index-fwd-qYMhiIGX.js";import{M as R,D as k,d as q}from"./index-fwd-mRdUEPmm.js";import{M as U}from"./index-fwd-x_aeOfk5.js";import{i as _}from"./interopRequireDefault-fwd-TQpPSNg9.js";import{r as F}from"./createSvgIcon-fwd-C5HoRyYL.js";import{N as B}from"./index-fwd-A0-YyUGO.js";import{A as W,a as V}from"./API-fwd-wSBNwRC-.js";import{h as z}from"./moment-fwd-Q1JHmZVX.js";import{g as G}from"./getTraining-fwd-8cmMt0Rf.js";import{C as H}from"./Container-fwd--GwYqIzP.js";import Y from"./index-fwd-QlVXGDcN.js";import K from"./index-fwd-hPOcf5d2.js";import{B as J}from"./Button-fwd-V0oP7Gqc.js";import{i as X,c as Q,o as Z,f as ee,A as te,b as oe}from"./index-fwd-YZzHoVcr.js";import{C as ae}from"./Close-fwd-KEUH1mo4.js";import re from"./index-fwd-v2U3PscQ.js";import{P as ne}from"./Paper-fwd-WFaa4pXn.js";import{C as ie}from"./Chip-fwd-PLmggBsV.js";import le from"./index-fwd-goasdrlS.js";import{B as se}from"./Modal-fwd-p5WxUrg9.js";import de from"./index-fwd-lbVkD5aF.js";import"./KeyboardArrowLeft-fwd-YQdeLDYs.js";import"./getSelectInputOptions-fwd-ZVToRqqx.js";import"./index-fwd-lWyokz70.js";import"./DialogContent-fwd-CYcOnUyi.js";import"./AppBar-fwd-dzp-VbdY.js";import"./index-fwd-LcBzpfNx.js";import"./index-fwd-zt72GgeW.js";import"./index-fwd-rz4yujvt.js";import"./DialogTitle-fwd-BhLgXYUL.js";import"./List-fwd-B3qUSFQa.js";import"./ListItem-fwd-iX4GRk4M.js";import"./index-fwd-8NRQb7QL.js";import"./TransitionGroupContext-fwd-AdrtyOFN.js";import"./useSlotProps-fwd-4TF0dLOI.js";import"./ListItemText-fwd-f8rlfGNg.js";import"./listItemTextClasses-fwd-v4LoqRQE.js";import"./Divider-fwd-L0kvT4D9.js";import"./dividerClasses-fwd-g7uA4vLh.js";import"./createSvgIcon-fwd-3znVHFND.js";import"./utils-fwd-Aa8Nbi8J.js";import"./Stack-fwd-_b9icarT.js";import"./Popper-fwd-JYIUw6NP.js";import"./Portal-fwd-EmXNK1q8.js";import"./Grow-fwd-0-97KQP6.js";import"./InputAdornment-fwd-KneKoIsb.js";import"./Menu-fwd-Vl9pMXPK.js";function ue(e){return void 0!==e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function pe(e,t){for(let o=0;o<e.length;o+=1)if(t(e[o]))return o;return-1}const ce=function(e={}){const{ignoreAccents:t=!0,ignoreCase:o=!0,limit:a,matchFrom:r="any",stringify:n,trim:i=!1}=e;return(e,{inputValue:l,getOptionLabel:s})=>{let d=i?l.trim():l;o&&(d=d.toLowerCase()),t&&(d=ue(d));const u=d?e.filter((e=>{let a=(n||s)(e);return o&&(a=a.toLowerCase()),t&&(a=ue(a)),"start"===r?0===a.indexOf(d):a.indexOf(d)>-1})):e;return"number"==typeof a?u.slice(0,a):u}}(),me=e=>{var t;return null!==e.current&&(null==(t=e.current.parentElement)?void 0:t.contains(document.activeElement))};function ge(l){const{unstable_isActiveElementInListbox:s=me,unstable_classNamePrefix:d="Mui",autoComplete:u=!1,autoHighlight:p=!1,autoSelect:c=!1,blurOnSelect:m=!1,clearOnBlur:g=!l.freeSolo,clearOnEscape:f=!1,componentName:v="useAutocomplete",defaultValue:b=(l.multiple?[]:null),disableClearable:h=!1,disableCloseOnSelect:x=!1,disabled:y,disabledItemsFocusable:T=!1,disableListWrap:C=!1,filterOptions:w=ce,filterSelectedOptions:I=!1,freeSolo:O=!1,getOptionDisabled:S,getOptionKey:j,getOptionLabel:P=(e=>{var t;return null!=(t=e.label)?t:e}),groupBy:E,handleHomeEndKeys:M=!l.freeSolo,id:A,includeInputInList:L=!1,inputValue:N,isOptionEqualToValue:$=((e,t)=>e===t),multiple:D=!1,onChange:R,onClose:k,onHighlightChange:q,onInputChange:U,onOpen:_,open:F,openOnFocus:B=!1,options:W,readOnly:V=!1,selectOnFocus:z=!l.freeSolo,value:G}=l,H=e(A);let Y=P;Y=e=>{const t=P(e);return"string"!=typeof t?String(t):t};const K=t.useRef(!1),J=t.useRef(!0),X=t.useRef(null),Q=t.useRef(null),[Z,ee]=t.useState(null),[te,oe]=t.useState(-1),ae=p?0:-1,re=t.useRef(ae),[ne,ie]=o({controlled:G,default:b,name:v}),[le,se]=o({controlled:N,default:"",name:v,state:"inputValue"}),[de,ue]=t.useState(!1),ge=t.useCallback(((e,t)=>{if(!(D?ne.length<t.length:null!==t)&&!g)return;let o;if(D)o="";else if(null==t)o="";else{const e=Y(t);o="string"==typeof e?e:""}le!==o&&(se(o),U&&U(e,o,"reset"))}),[Y,le,D,U,se,g,ne]),[fe,ve]=o({controlled:F,default:!1,name:v,state:"open"}),[be,he]=t.useState(!0),xe=!D&&null!=ne&&le===Y(ne),ye=fe&&!V,Te=ye?w(W.filter((e=>!I||!(D?ne:[ne]).some((t=>null!==t&&$(e,t))))),{inputValue:xe&&be?"":le,getOptionLabel:Y}):[],Ce=a({filteredOptions:Te,value:ne,inputValue:le});t.useEffect((()=>{const e=ne!==Ce.value;de&&!e||O&&!e||ge(null,ne)}),[ne,ge,de,Ce.value,O]);const we=fe&&Te.length>0&&!V,Ie=r((e=>{-1===e?X.current.focus():Z.querySelector(`[data-tag-index="${e}"]`).focus()}));t.useEffect((()=>{D&&te>ne.length-1&&(oe(-1),Ie(-1))}),[ne,D,te,Ie]);const Oe=r((({event:e,index:t,reason:o="auto"})=>{if(re.current=t,-1===t?X.current.removeAttribute("aria-activedescendant"):X.current.setAttribute("aria-activedescendant",`${H}-option-${t}`),q&&q(e,-1===t?null:Te[t],o),!Q.current)return;const a=Q.current.querySelector(`[role="option"].${d}-focused`);a&&(a.classList.remove(`${d}-focused`),a.classList.remove(`${d}-focusVisible`));let r=Q.current;if("listbox"!==Q.current.getAttribute("role")&&(r=Q.current.parentElement.querySelector('[role="listbox"]')),!r)return;if(-1===t)return void(r.scrollTop=0);const n=Q.current.querySelector(`[data-option-index="${t}"]`);if(n&&(n.classList.add(`${d}-focused`),"keyboard"===o&&n.classList.add(`${d}-focusVisible`),r.scrollHeight>r.clientHeight&&"mouse"!==o&&"touch"!==o)){const e=n,t=r.clientHeight+r.scrollTop,o=e.offsetTop+e.offsetHeight;o>t?r.scrollTop=o-r.clientHeight:e.offsetTop-e.offsetHeight*(E?1.3:0)<r.scrollTop&&(r.scrollTop=e.offsetTop-e.offsetHeight*(E?1.3:0))}})),Se=r((({event:e,diff:t,direction:o="next",reason:a="auto"})=>{if(!ye)return;const r=function(e,t){if(!Q.current||e<0||e>=Te.length)return-1;let o=e;for(;;){const a=Q.current.querySelector(`[data-option-index="${o}"]`),r=!T&&(!a||a.disabled||"true"===a.getAttribute("aria-disabled"));if(a&&a.hasAttribute("tabindex")&&!r)return o;if(o="next"===t?(o+1)%Te.length:(o-1+Te.length)%Te.length,o===e)return-1}}((()=>{const e=Te.length-1;if("reset"===t)return ae;if("start"===t)return 0;if("end"===t)return e;const o=re.current+t;return o<0?-1===o&&L?-1:C&&-1!==re.current||Math.abs(t)>1?0:e:o>e?o===e+1&&L?-1:C||Math.abs(t)>1?e:0:o})(),o);if(Oe({index:r,reason:a,event:e}),u&&"reset"!==t)if(-1===r)X.current.value=le;else{const e=Y(Te[r]);X.current.value=e;0===e.toLowerCase().indexOf(le.toLowerCase())&&le.length>0&&X.current.setSelectionRange(le.length,e.length)}})),je=t.useCallback((()=>{if(!ye)return;if((()=>{if(-1!==re.current&&Ce.filteredOptions&&Ce.filteredOptions.length!==Te.length&&Ce.inputValue===le&&(D?ne.length===Ce.value.length&&Ce.value.every(((e,t)=>Y(ne[t])===Y(e))):(e=Ce.value,t=ne,(e?Y(e):"")===(t?Y(t):"")))){const e=Ce.filteredOptions[re.current];if(e&&Te.some((t=>Y(t)===Y(e))))return!0}var e,t;return!1})())return;const e=D?ne[0]:ne;if(0!==Te.length&&null!=e){if(Q.current)if(null==e)re.current>=Te.length-1?Oe({index:Te.length-1}):Oe({index:re.current});else{const t=Te[re.current];if(D&&t&&-1!==pe(ne,(e=>$(t,e))))return;const o=pe(Te,(t=>$(t,e)));-1===o?Se({diff:"reset"}):Oe({index:o})}}else Se({diff:"reset"})}),[Te.length,!D&&ne,I,Se,Oe,ye,le,D]),Pe=r((e=>{n(Q,e),e&&je()}));t.useEffect((()=>{je()}),[je]);const Ee=e=>{fe||(ve(!0),he(!0),_&&_(e))},Me=(e,t)=>{fe&&(ve(!1),k&&k(e,t))},Ae=(e,t,o,a)=>{if(D){if(ne.length===t.length&&ne.every(((e,o)=>e===t[o])))return}else if(ne===t)return;R&&R(e,t,o,a),ie(t)},Le=t.useRef(!1),Ne=(e,t,o="selectOption",a="options")=>{let r=o,n=t;if(D){n=Array.isArray(ne)?ne.slice():[];const e=pe(n,(e=>$(t,e)));-1===e?n.push(t):"freeSolo"!==a&&(n.splice(e,1),r="removeOption")}ge(e,n),Ae(e,n,r,{option:t}),x||e&&(e.ctrlKey||e.metaKey)||Me(e,r),(!0===m||"touch"===m&&Le.current||"mouse"===m&&!Le.current)&&X.current.blur()};const $e=(e,t)=>{if(!D)return;""===le&&Me(e,"toggleInput");let o=te;-1===te?""===le&&"previous"===t&&(o=ne.length-1):(o+="next"===t?1:-1,o<0&&(o=0),o===ne.length&&(o=-1)),o=function(e,t){if(-1===e)return-1;let o=e;for(;;){if("next"===t&&o===ne.length||"previous"===t&&-1===o)return-1;const e=Z.querySelector(`[data-tag-index="${o}"]`);if(e&&e.hasAttribute("tabindex")&&!e.disabled&&"true"!==e.getAttribute("aria-disabled"))return o;o+="next"===t?1:-1}}(o,t),oe(o),Ie(o)},De=e=>{K.current=!0,se(""),U&&U(e,"","clear"),Ae(e,D?[]:null,"clear")},Re=e=>t=>{if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1!==te&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(oe(-1),Ie(-1)),229!==t.which))switch(t.key){case"Home":ye&&M&&(t.preventDefault(),Se({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":ye&&M&&(t.preventDefault(),Se({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),Se({diff:-5,direction:"previous",reason:"keyboard",event:t}),Ee(t);break;case"PageDown":t.preventDefault(),Se({diff:5,direction:"next",reason:"keyboard",event:t}),Ee(t);break;case"ArrowDown":t.preventDefault(),Se({diff:1,direction:"next",reason:"keyboard",event:t}),Ee(t);break;case"ArrowUp":t.preventDefault(),Se({diff:-1,direction:"previous",reason:"keyboard",event:t}),Ee(t);break;case"ArrowLeft":$e(t,"previous");break;case"ArrowRight":$e(t,"next");break;case"Enter":if(-1!==re.current&&ye){const e=Te[re.current],o=!!S&&S(e);if(t.preventDefault(),o)return;Ne(t,e,"selectOption"),u&&X.current.setSelectionRange(X.current.value.length,X.current.value.length)}else O&&""!==le&&!1===xe&&(D&&t.preventDefault(),Ne(t,le,"createOption","freeSolo"));break;case"Escape":ye?(t.preventDefault(),t.stopPropagation(),Me(t,"escape")):f&&(""!==le||D&&ne.length>0)&&(t.preventDefault(),t.stopPropagation(),De(t));break;case"Backspace":if(D&&!V&&""===le&&ne.length>0){const e=-1===te?ne.length-1:te,o=ne.slice();o.splice(e,1),Ae(t,o,"removeOption",{option:ne[e]})}break;case"Delete":if(D&&!V&&""===le&&ne.length>0&&-1!==te){const e=te,o=ne.slice();o.splice(e,1),Ae(t,o,"removeOption",{option:ne[e]})}}},ke=e=>{ue(!0),B&&!K.current&&Ee(e)},qe=e=>{s(Q)?X.current.focus():(ue(!1),J.current=!0,K.current=!1,c&&-1!==re.current&&ye?Ne(e,Te[re.current],"blur"):c&&O&&""!==le?Ne(e,le,"blur","freeSolo"):g&&ge(e,ne),Me(e,"blur"))},Ue=e=>{const t=e.target.value;le!==t&&(se(t),he(!1),U&&U(e,t,"input")),""===t?h||D||Ae(e,null,"clear"):Ee(e)},_e=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));re.current!==t&&Oe({event:e,index:t,reason:"mouse"})},Fe=e=>{Oe({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Le.current=!0},Be=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));Ne(e,Te[t],"selectOption"),Le.current=!1},We=e=>t=>{const o=ne.slice();o.splice(e,1),Ae(t,o,"removeOption",{option:ne[e]})},Ve=e=>{fe?Me(e,"toggleInput"):Ee(e)},ze=e=>{e.currentTarget.contains(e.target)&&e.target.getAttribute("id")!==H&&e.preventDefault()},Ge=e=>{e.currentTarget.contains(e.target)&&(X.current.focus(),z&&J.current&&X.current.selectionEnd-X.current.selectionStart==0&&X.current.select(),J.current=!1)},He=e=>{y||""!==le&&fe||Ve(e)};let Ye=O&&le.length>0;Ye=Ye||(D?ne.length>0:null!==ne);let Ke=Te;return E&&(Ke=Te.reduce(((e,t,o)=>{const a=E(t);return e.length>0&&e[e.length-1].group===a?e[e.length-1].options.push(t):e.push({key:o,index:o,group:a,options:[t]}),e}),[])),y&&de&&qe(),{getRootProps:(e={})=>i({"aria-owns":we?`${H}-listbox`:null},e,{onKeyDown:Re(e),onMouseDown:ze,onClick:Ge}),getInputLabelProps:()=>({id:`${H}-label`,htmlFor:H}),getInputProps:()=>({id:H,value:le,onBlur:qe,onFocus:ke,onChange:Ue,onMouseDown:He,"aria-activedescendant":ye?"":null,"aria-autocomplete":u?"both":"list","aria-controls":we?`${H}-listbox`:void 0,"aria-expanded":we,autoComplete:"off",ref:X,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:y}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:De}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Ve}),getTagProps:({index:e})=>i({key:e,"data-tag-index":e,tabIndex:-1},!V&&{onDelete:We(e)}),getListboxProps:()=>({role:"listbox",id:`${H}-listbox`,"aria-labelledby":`${H}-label`,ref:Pe,onMouseDown:e=>{e.preventDefault()}}),getOptionProps:({index:e,option:t})=>{var o;const a=(D?ne:[ne]).some((e=>null!=e&&$(t,e))),r=!!S&&S(t);return{key:null!=(o=null==j?void 0:j(t))?o:Y(t),tabIndex:-1,role:"option",id:`${H}-option-${e}`,onMouseMove:_e,onClick:Be,onTouchStart:Fe,"data-option-index":e,"aria-disabled":r,"aria-selected":a}},id:H,inputValue:le,value:ne,dirty:Ye,expanded:ye&&Z,popupOpen:ye,focused:de||-1!==te,anchorEl:Z,setAnchorEl:ee,focusedTag:te,groupedOptions:Ke}}function fe(e){return l("MuiListSubheader",e)}s("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const ve=["className","color","component","disableGutters","disableSticky","inset"],be=d("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,"default"!==o.color&&t[`color${u(o.color)}`],!o.disableGutters&&t.gutters,o.inset&&t.inset,!o.disableSticky&&t.sticky]}})((({theme:e,ownerState:t})=>i({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},"primary"===t.color&&{color:(e.vars||e).palette.primary.main},"inherit"===t.color&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}))),he=t.forwardRef((function(e,t){const o=p({props:e,name:"MuiListSubheader"}),{className:a,color:r="default",component:n="li",disableGutters:l=!1,disableSticky:s=!1,inset:d=!1}=o,v=c(o,ve),b=i({},o,{color:r,component:n,disableGutters:l,disableSticky:s,inset:d}),h=(e=>{const{classes:t,color:o,disableGutters:a,inset:r,disableSticky:n}=e,i={root:["root","default"!==o&&`color${u(o)}`,!a&&"gutters",r&&"inset",!n&&"sticky"]};return f(i,fe,t)})(b);return m.jsx(be,i({as:n,className:g(h.root,a),ref:t,ownerState:b},v))}));he.muiSkipListHighlight=!0;const xe=he;function ye(e){return l("MuiAutocomplete",e)}const Te=s("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var Ce,we;const Ie=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],Oe=["ref"],Se=["key"],je=d("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e,{fullWidth:a,hasClearIcon:r,hasPopupIcon:n,inputFocused:i,size:l}=o;return[{[`& .${Te.tag}`]:t.tag},{[`& .${Te.tag}`]:t[`tagSize${u(l)}`]},{[`& .${Te.inputRoot}`]:t.inputRoot},{[`& .${Te.input}`]:t.input},{[`& .${Te.input}`]:i&&t.inputFocused},t.root,a&&t.fullWidth,n&&t.hasPopupIcon,r&&t.hasClearIcon]}})((({ownerState:e})=>i({[`&.${Te.focused} .${Te.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${Te.clearIndicator}`]:{visibility:"visible"}}},e.fullWidth&&{width:"100%"},{[`& .${Te.tag}`]:i({margin:3,maxWidth:"calc(100% - 6px)"},"small"===e.size&&{margin:2,maxWidth:"calc(100% - 4px)"}),[`& .${Te.inputRoot}`]:{flexWrap:"wrap",[`.${Te.hasPopupIcon}&, .${Te.hasClearIcon}&`]:{paddingRight:30},[`.${Te.hasPopupIcon}.${Te.hasClearIcon}&`]:{paddingRight:56},[`& .${Te.input}`]:{width:0,minWidth:30}},[`& .${X.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${X.root}.${Q.sizeSmall}`]:{[`& .${X.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Z.root}`]:{padding:9,[`.${Te.hasPopupIcon}&, .${Te.hasClearIcon}&`]:{paddingRight:39},[`.${Te.hasPopupIcon}.${Te.hasClearIcon}&`]:{paddingRight:65},[`& .${Te.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${Te.endAdornment}`]:{right:9}},[`& .${Z.root}.${Q.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${Te.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${ee.root}`]:{paddingTop:19,paddingLeft:8,[`.${Te.hasPopupIcon}&, .${Te.hasClearIcon}&`]:{paddingRight:39},[`.${Te.hasPopupIcon}.${Te.hasClearIcon}&`]:{paddingRight:65},[`& .${ee.input}`]:{padding:"7px 4px"},[`& .${Te.endAdornment}`]:{right:9}},[`& .${ee.root}.${Q.sizeSmall}`]:{paddingBottom:1,[`& .${ee.input}`]:{padding:"2.5px 4px"}},[`& .${Q.hiddenLabel}`]:{paddingTop:8},[`& .${ee.root}.${Q.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${Te.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${ee.root}.${Q.hiddenLabel}.${Q.sizeSmall}`]:{[`& .${Te.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${Te.input}`]:i({flexGrow:1,textOverflow:"ellipsis",opacity:0},e.inputFocused&&{opacity:1})}))),Pe=d("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"calc(50% - 14px)"}),Ee=d(re,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Me=d(re,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:e},t)=>i({},t.popupIndicator,e.popupOpen&&t.popupIndicatorOpen)})((({ownerState:e})=>i({padding:2,marginRight:-2},e.popupOpen&&{transform:"rotate(180deg)"}))),Ae=d(R,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${Te.option}`]:t.option},t.popper,o.disablePortal&&t.popperDisablePortal]}})((({theme:e,ownerState:t})=>i({zIndex:(e.vars||e).zIndex.modal},t.disablePortal&&{position:"absolute"}))),Le=d(ne,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})((({theme:e})=>i({},e.typography.body1,{overflow:"auto"}))),Ne=d("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})((({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),$e=d("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})((({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),De=d("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})((({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${Te.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${Te.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Te.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:v(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Te.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:v(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${Te.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:v(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}}))),Re=d(xe,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})((({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),ke=d("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${Te.option}`]:{paddingLeft:24}}),qe=t.forwardRef((function(e,o){var a,r,n,l;const s=p({props:e,name:"MuiAutocomplete"}),{autoComplete:d=!1,autoHighlight:v=!1,autoSelect:h=!1,blurOnSelect:x=!1,ChipProps:y,className:T,clearIcon:C=Ce||(Ce=m.jsx(ae,{fontSize:"small"})),clearOnBlur:w=!s.freeSolo,clearOnEscape:I=!1,clearText:O="Clear",closeText:S="Close",componentsProps:j={},defaultValue:P=(s.multiple?[]:null),disableClearable:E=!1,disableCloseOnSelect:M=!1,disabled:A=!1,disabledItemsFocusable:L=!1,disableListWrap:N=!1,disablePortal:$=!1,filterSelectedOptions:D=!1,forcePopupIcon:k="auto",freeSolo:q=!1,fullWidth:U=!1,getLimitTagsText:_=(e=>`+${e}`),getOptionLabel:F,groupBy:B,handleHomeEndKeys:W=!s.freeSolo,includeInputInList:V=!1,limitTags:z=-1,ListboxComponent:G="ul",ListboxProps:H,loading:Y=!1,loadingText:K="Loadingâ€¦",multiple:J=!1,noOptionsText:X="No options",openOnFocus:Q=!1,openText:Z="Open",PaperComponent:ee=ne,PopperComponent:oe=R,popupIcon:re=we||(we=m.jsx(te,{})),readOnly:le=!1,renderGroup:se,renderInput:de,renderOption:ue,renderTags:pe,selectOnFocus:ce=!s.freeSolo,size:me="medium",slotProps:fe={}}=s,ve=c(s,Ie),{getRootProps:be,getInputProps:he,getInputLabelProps:xe,getPopupIndicatorProps:Te,getClearProps:qe,getTagProps:Ue,getListboxProps:_e,getOptionProps:Fe,value:Be,dirty:We,expanded:Ve,id:ze,popupOpen:Ge,focused:He,focusedTag:Ye,anchorEl:Ke,setAnchorEl:Je,inputValue:Xe,groupedOptions:Qe}=ge(i({},s,{componentName:"Autocomplete"})),Ze=!E&&!A&&We&&!le,et=(!q||!0===k)&&!1!==k,{onMouseDown:tt}=he(),{ref:ot}=null!=H?H:{},at=_e(),{ref:rt}=at,nt=c(at,Oe),it=b(rt,ot),lt=F||(e=>{var t;return null!=(t=e.label)?t:e}),st=i({},s,{disablePortal:$,expanded:Ve,focused:He,fullWidth:U,getOptionLabel:lt,hasClearIcon:Ze,hasPopupIcon:et,inputFocused:-1===Ye,popupOpen:Ge,size:me}),dt=(e=>{const{classes:t,disablePortal:o,expanded:a,focused:r,fullWidth:n,hasClearIcon:i,hasPopupIcon:l,inputFocused:s,popupOpen:d,size:p}=e,c={root:["root",a&&"expanded",r&&"focused",n&&"fullWidth",i&&"hasClearIcon",l&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",s&&"inputFocused"],tag:["tag",`tagSize${u(p)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",d&&"popupIndicatorOpen"],popper:["popper",o&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return f(c,ye,t)})(st);let ut;if(J&&Be.length>0){const e=e=>i({className:dt.tag,disabled:A},Ue(e));ut=pe?pe(Be,e,st):Be.map(((t,o)=>m.jsx(ie,i({label:lt(t),size:me},e({index:o}),y))))}if(z>-1&&Array.isArray(ut)){const e=ut.length-z;!He&&e>0&&(ut=ut.splice(0,z),ut.push(m.jsx("span",{className:dt.tag,children:_(e)},ut.length)))}const pt=se||(e=>m.jsxs("li",{children:[m.jsx(Re,{className:dt.groupLabel,ownerState:st,component:"div",children:e.group}),m.jsx(ke,{className:dt.groupUl,ownerState:st,children:e.children})]},e.key)),ct=ue||((e,t)=>{const{key:o}=e,a=c(e,Se);return m.jsx("li",i({},a,{children:lt(t)}),o)}),mt=(e,t)=>{const o=Fe({option:e,index:t});return ct(i({},o,{className:dt.option}),e,{selected:o["aria-selected"],index:t,inputValue:Xe},st)},gt=null!=(a=fe.clearIndicator)?a:j.clearIndicator,ft=null!=(r=fe.paper)?r:j.paper,vt=null!=(n=fe.popper)?n:j.popper,bt=null!=(l=fe.popupIndicator)?l:j.popupIndicator;return m.jsxs(t.Fragment,{children:[m.jsx(je,i({ref:o,className:g(dt.root,T),ownerState:st},be(ve),{children:de({id:ze,disabled:A,fullWidth:!0,size:"small"===me?"small":void 0,InputLabelProps:xe(),InputProps:i({ref:Je,className:dt.inputRoot,startAdornment:ut,onClick:e=>{e.target===e.currentTarget&&tt(e)}},(Ze||et)&&{endAdornment:m.jsxs(Pe,{className:dt.endAdornment,ownerState:st,children:[Ze?m.jsx(Ee,i({},qe(),{"aria-label":O,title:O,ownerState:st},gt,{className:g(dt.clearIndicator,null==gt?void 0:gt.className),children:C})):null,et?m.jsx(Me,i({},Te(),{disabled:A,"aria-label":Ge?S:Z,title:Ge?S:Z,ownerState:st},bt,{className:g(dt.popupIndicator,null==bt?void 0:bt.className),children:re})):null]})}),inputProps:i({className:dt.input,disabled:A,readOnly:le},he())})})),Ke?m.jsx(Ae,i({as:oe,disablePortal:$,style:{width:Ke?Ke.clientWidth:null},ownerState:st,role:"presentation",anchorEl:Ke,open:Ge},vt,{className:g(dt.popper,null==vt?void 0:vt.className),children:m.jsxs(Le,i({ownerState:st,as:ee},ft,{className:g(dt.paper,null==ft?void 0:ft.className),children:[Y&&0===Qe.length?m.jsx(Ne,{className:dt.loading,ownerState:st,children:K}):null,0!==Qe.length||q||Y?null:m.jsx($e,{className:dt.noOptions,ownerState:st,role:"presentation",onMouseDown:e=>{e.preventDefault()},children:X}),Qe.length>0?m.jsx(De,i({as:G,className:dt.listbox,ownerState:st},nt,H,{ref:it,children:Qe.map(((e,t)=>B?pt({key:e.key,group:e.group,children:e.options.map(((t,o)=>mt(t,e.index+o)))}):mt(e,t)))})):null]}))})):null]})})),Ue={information:{name:{id:"name",name:"name",fullWidth:!0,label:"Name",placeholder:"Name",required:!0,errorMessage:"name required",value:"",disabled:!1,type:"text",componentType:C.INPUT_TEXT,autoFocus:!1,autoComplete:"",validate:{pattern:{value:/^/,message:""}},options:[]},date:{id:"date",name:"date",fullWidth:!0,label:{start:"Start Date",end:"End Date"},placeholder:"Date",required:!1,errorMessage:"date required",value:[null,null],disabled:!1,type:"text",componentType:C.INPUT_DATE_RANGE,autoFocus:!1,autoComplete:"",validate:{pattern:{value:/^/,message:""}},options:[]},duration:{id:"duration",name:"duration",fullWidth:!0,label:"Duration",placeholder:"Duration",required:!0,errorMessage:"duration required",value:"",disabled:!1,type:"number",componentType:C.INPUT_NUMBER_FORMAT,autoFocus:!1,autoComplete:"",validate:{pattern:{value:/^/,message:""}},options:[]},budgetCode:{id:"budgetCode",name:"budgetCode",fullWidth:!0,label:"Budget Code",placeholder:"Budget Code",required:!0,errorMessage:"budget ccode required",value:null,disabled:!1,type:"text",componentType:C.INPUT_AUTOCOMPLETE_SINGLE,autoFocus:!1,autoComplete:"",validate:{pattern:{value:/^/,message:""}},options:[]},type:{id:"type",name:"type",fullWidth:!0,label:"Training Type",placeholder:"Training Type",required:!0,errorMessage:"training type required",value:"",disabled:!1,type:"select",componentType:C.INPUT_SELECT_MODAL,autoFocus:!1,autoComplete:"",validate:{pattern:{value:/^/,message:""}},options:[],SelectInputDialogType:w.TRAINING_TYPE},objective:{id:"objective",name:"objective",fullWidth:!0,label:"Training Objective",placeholder:"Training Objective",required:!0,errorMessage:"training objective required",value:"",disabled:!1,type:"text",componentType:C.INPUT_TEXT_AREA,autoFocus:!1,autoComplete:"",validate:{pattern:{value:/^/,message:""}},options:[]},participants:{id:"name",name:"participants",fullWidth:!0,label:"Participants",placeholder:"Participants",required:!0,errorMessage:"participants required",value:[],disabled:!1,type:"text",componentType:C.INPUT_AUTOCOMPLETE_MULTIPLE,autoFocus:!1,autoComplete:"",validate:{pattern:{value:/^/,message:""}},options:[]}},vendor:[{name:{id:"name",name:"name",fullWidth:!0,label:"Vendor Name",placeholder:"Vendor Name",required:!0,errorMessage:"vendor name required",value:null,disabled:!1,type:"text",componentType:C.INPUT_AUTOCOMPLETE_SINGLE,autoFocus:!1,autoComplete:"",validate:{pattern:{value:/^/,message:""}},options:[]},cost:{id:"cost",name:"cost",fullWidth:!0,label:"Cost",placeholder:"Cost",required:!0,errorMessage:"cost required",value:"",disabled:!1,type:"text",componentType:C.INPUT_TEXT,autoFocus:!1,autoComplete:"",validate:{pattern:{value:/^/,message:""}},options:[]}}]};var _e={},Fe=_;Object.defineProperty(_e,"__esModule",{value:!0});var Be=_e.default=void 0,We=Fe(F()),Ve=m;Be=_e.default=(0,We.default)((0,Ve.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11H7v-2h10z"}),"RemoveCircle");var ze=(e=>(e.VENDOR="VENDOR",e.USER="USER",e.BUDGET="BUDGET",e))(ze||{});const Ge=e=>{switch(e){case ze.VENDOR:return"vendor";case ze.USER:return"user";case ze.BUDGET:return"budget"}},He=e=>async t=>{var o,a;try{const o=Ge(e.type);let a={page:0,name:"",status:"Active"};e.type===ze.VENDOR&&(a.vendorTypeId="All",a.size=999),e.type===ze.USER&&(a.departementId="All",a.size=999),e.type===ze.BUDGET&&(a.startDate="",a.endDate="",a.status="Approve",a.usedInTraining=!0);const r=await W({method:"post",url:Ye(o),payload:a});console.log("getAutocompleteOptions:",{param:e,response:r}),t(E({type:o,list:r.data.data[`${o}s`]})),await new Promise((e=>setTimeout(e,500))),t(M({type:o,loading:!1}))}catch(r){V.isAxiosError(r)&&r.response&&(console.log("errr",(null==(o=r.response)?void 0:o.data).error),t(A({open:!0,autoHideDuration:3e3,severity:"warning",message:(null==(a=r.response)?void 0:a.data.message)??r.message??""})),t(M({type:Ge(e.type),loading:!1})))}},Ye=e=>{switch(e){case"vendor":return"/v1/vendors";case"user":return"/v1/users";case"budget":return"/v1/budgets";default:return"/"}},Ke={information:{name:{id:"name",name:"name",fullWidth:!0,label:"Name",placeholder:"Name",required:!0,errorMessage:"name required",value:"",disabled:!1,type:"text",componentType:C.INPUT_TEXT,autoFocus:!1,autoComplete:"",validate:{pattern:{value:/^/,message:""}},options:[]},date:{id:"date",name:"date",fullWidth:!0,label:{start:"Start Date",end:"End Date"},placeholder:"Date",required:!1,errorMessage:"date required",value:[null,null],disabled:!1,type:"text",componentType:C.INPUT_DATE_RANGE,autoFocus:!1,autoComplete:"",validate:{pattern:{value:/^/,message:""}},options:[]},duration:{id:"duration",name:"duration",fullWidth:!0,label:"Duration",placeholder:"Duration",required:!0,errorMessage:"duration required",value:"",disabled:!1,type:"number",componentType:C.INPUT_NUMBER_FORMAT,autoFocus:!1,autoComplete:"",validate:{pattern:{value:/^/,message:""}},options:[]},budgetCode:{id:"budgetCode",name:"budgetCode",fullWidth:!0,label:"Budget Code",placeholder:"Budget Code",required:!0,errorMessage:"budget ccode required",value:{id:"",label:""},disabled:!1,type:"text",componentType:C.INPUT_AUTOCOMPLETE_SINGLE,autoFocus:!1,autoComplete:"",validate:{pattern:{value:/^/,message:""}},options:[]},type:{id:"type",name:"type",fullWidth:!0,label:"Training Type",placeholder:"Training Type",required:!0,errorMessage:"training type required",value:"",disabled:!1,type:"select",componentType:C.INPUT_SELECT_MODAL,autoFocus:!1,autoComplete:"",validate:{pattern:{value:/^/,message:""}},options:[],SelectInputDialogType:w.TRAINING_TYPE},objective:{id:"objective",name:"objective",fullWidth:!0,label:"Training Objective",placeholder:"Training Objective",required:!0,errorMessage:"training objective required",value:"",disabled:!1,type:"text",componentType:C.INPUT_TEXT_AREA,autoFocus:!1,autoComplete:"",validate:{pattern:{value:/^/,message:""}},options:[]},participants:{id:"name",name:"participants",fullWidth:!0,label:"Participants",placeholder:"Participants",required:!0,errorMessage:"participants required",value:[],disabled:!1,type:"text",componentType:C.INPUT_AUTOCOMPLETE_MULTIPLE,autoFocus:!1,autoComplete:"",validate:{pattern:{value:/^/,message:""}},options:[]}},vendor:[{name:{id:"name",name:"name",fullWidth:!0,label:"Vendor Name",placeholder:"Vendor Name",required:!0,errorMessage:"vendor name required",value:{id:"",label:""},disabled:!1,type:"text",componentType:C.INPUT_AUTOCOMPLETE_SINGLE,autoFocus:!1,autoComplete:"",validate:{pattern:{value:/^/,message:""}},options:[]},cost:{id:"cost",name:"cost",fullWidth:!0,label:"Cost",placeholder:"Cost",required:!0,errorMessage:"cost required",value:"",disabled:!1,type:"text",componentType:C.INPUT_TEXT,autoFocus:!1,autoComplete:"",validate:{pattern:{value:/^/,message:""}},options:[]}}]},Je=h.memo((()=>{const[e,o]=t.useState("Create"),a=x(),r=new URLSearchParams(a.search).get("u")||null,n=y(),[i,l]=t.useState({loading:!1}),[s,d]=t.useState({loading:!1}),u=L(),{autocomplete:p,selectInputOptions:c}=N((e=>e.components)),{training:g}=N((e=>e.pages)),f=JSON.parse(JSON.stringify(Ue)),v=Ke,b=null===r?f:v,h=I({defaultValues:async()=>(null!==r&&""!==r&&(d({loading:!0}),await u(G({id:r,successCB:async e=>{o("Update"),b.information.date.value=[q(z(new Date(e.startDate)).format("YYYY-MM-DD")),q(z(new Date(e.endDate)).format("YYYY-MM-DD"))],b.information.name.value=e.name.toString(),b.information.duration.value=e.duration.toString(),b.information.objective.value=e.objective.toString(),b.information.type.value=e.trainingType.name,null!==b.information.budgetCode&&null!==b.information.budgetCode.value&&Object.assign(b.information.budgetCode.value,{id:e.budget.id,label:e.budget.code}),e.participants.forEach((e=>{b.information.participants.value.push({id:e.id,label:e.name})})),b.vendor=[],e.payments.forEach((e=>{b.vendor.push({name:{...f.vendor[0].name,value:{id:e.vendor.id,label:e.vendor.name}},cost:{...f.vendor[0].cost,value:e.cost}})}))},failedCB:()=>n(-1)}))),await u(He({type:ze.VENDOR})),await u(He({type:ze.BUDGET})),0===p.user.list.length&&await u(He({type:ze.USER})),d({loading:!1}),console.log("POPULATE:TRAINING",{defaultValues:b}),b)}),{register:E,formState:M,handleSubmit:R,setValue:_,clearErrors:F,control:X}=h,{fields:Q,append:Z,remove:ee}=O({control:X,name:"vendor"}),{errors:te}=M,ae=async()=>{const e=await JSON.parse(JSON.stringify(Ue.vendor[0]));Z(e)};return t.useEffect((()=>()=>{"Update"===e&&(v.information.participants.value=[])}),[v.information.participants,e]),m.jsxs(H,{sx:{pt:3},maxWidth:!1,children:[m.jsx(j,{title:`${e} Training`,backNavigate:"training"}),m.jsxs(Y,{component:"form",id:"training-create-page",onSubmit:R((t=>{var o,a;l({loading:!0});const r={name:t.information.name.value.toString(),startDate:null===t.information.date.value[0]?"":t.information.date.value[0].format("DD/MMM/YYYY"),endDate:null===t.information.date.value[1]?"":t.information.date.value[1].format("DD/MMM/YYYY"),trainingTypeId:c.trainingType.loading?g.detail.data.trainingType.id:c.trainingType.list.filter((e=>e.name===t.information.type.value))[0].id,duration:t.information.duration.value.toString(),budgetId:(null==(a=null==(o=t.information.budgetCode)?void 0:o.value)?void 0:a.id)??"",objective:t.information.objective.value.toString(),participants:t.information.participants.value};switch(e){case"Create":return u((i={data:{...r,vendors:t.vendor.map((e=>{var t,o,a,r;return{id:(null==(o=null==(t=null==e?void 0:e.name)?void 0:t.value)?void 0:o.id)??"",name:(null==(r=null==(a=null==e?void 0:e.name)?void 0:a.value)?void 0:r.label)??"",cost:e.cost.value.toString()}}))},successCB:()=>{l({loading:!1}),n("/training")},failedCB:()=>{l({loading:!1})}},async e=>{var t,o;try{return await new Promise((e=>setTimeout(e,1e3))),await W({method:"post",url:"/v1/trainings/register",payload:i.data}),e(A({open:!0,autoHideDuration:3e3,severity:"success",message:"Training created"})),i.successCB()}catch(a){return V.isAxiosError(a)&&a.response&&(console.log("errr",(null==(t=a.response)?void 0:t.data).error),e(A({open:!0,autoHideDuration:3e3,severity:"warning",message:(null==(o=a.response)?void 0:o.data.message)??a.message??""}))),i.failedCB()}}));case"Update":return u((e=>async t=>{var o,a;try{return await new Promise((e=>setTimeout(e,1e3))),await W({method:"post",url:"/v1/trainings/update",payload:e.data}),t(A({open:!0,autoHideDuration:3e3,severity:"success",message:"Training updated"})),e.successCB()}catch(r){return V.isAxiosError(r)&&r.response&&(console.log("errr",(null==(o=r.response)?void 0:o.data).error),t(A({open:!0,autoHideDuration:3e3,severity:"warning",message:(null==(a=r.response)?void 0:a.data.message)??r.message??""}))),e.failedCB()}})({data:{id:g.detail.data.id,...r,vendors:t.vendor.map((e=>{var t,o,a,r,n,i;return{paymentId:(null==(o=null==(t=g.detail.data.payments.filter((t=>{var o,a;return t.vendor.id===(null==(a=null==(o=null==e?void 0:e.name)?void 0:o.value)?void 0:a.id)||""})))?void 0:t[0])?void 0:o.id)||"",vendorId:(null==(r=null==(a=null==e?void 0:e.name)?void 0:a.value)?void 0:r.id)??"",name:(null==(i=null==(n=null==e?void 0:e.name)?void 0:n.value)?void 0:i.label)??"",cost:e.cost.value.toString()}}))},successCB:()=>{l({loading:!1}),n("/training")},failedCB:()=>{l({loading:!1})}}));default:return null}var i}),(e=>{console.log("onError",{_errors:e,form:h}),window.scrollTo({top:0,left:0,behavior:"smooth"}),u(A({open:!0,autoHideDuration:3e3,severity:"warning",message:"Please make sure all forms to be filled"}))})),children:[Object.keys(b).map(((t,o)=>{const a=b[t];return m.jsxs(Y,{sx:{mb:5,backgroundColor:"white",p:3,borderRadius:$.borderRadius},children:[m.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[m.jsx(K,{variant:"subtitle1",gutterBottom:!0,sx:{textAlign:"left",mb:1},children:P(t)}),"vendor"===t?m.jsx(J,{sx:{width:{md:"200px",xs:"50%"}},fullWidth:!1,size:"small",variant:"outlined",onClick:ae,children:m.jsxs(K,{variant:"button",display:"block",gutterBottom:!0,children:["+ ",t]})}):null]}),"information"===t&&Object.keys(a).map(((o,r)=>{var n,i;const l=a[o],s=`${t}.${o}.value`,d=null==(n=te[t])?void 0:n[o];switch(l.componentType){case C.INPUT_NUMBER_FORMAT:return m.jsx(B,{name:l.name,registerField:s,id:l.id,label:l.label,required:l.required,control:X,startAdornment:!1,endAdornment:!0,suffix:"Hours",error:!!d,helperText:l.errorMessage,value:l.value.toString(),style:{marginLeft:0,width:"100%"},disabled:l.disabled},r);case C.INPUT_AUTOCOMPLETE_SINGLE:return m.jsx(S,{control:X,name:s,rules:{required:{value:l.required,message:l.errorMessage}},render:({field:{ref:t,onChange:o,...a}})=>m.jsx(qe,{multiple:!1,sx:{width:"100%",mt:2,mb:1},options:"Update"===e?[{id:g.detail.data.budget.id,label:g.detail.data.budget.code}]:p.budget.list,defaultValue:l.value,isOptionEqualToValue:(e,t)=>e.id===t.id,getOptionLabel:e=>e.label,onChange:(e,t)=>o(t),renderInput:e=>m.jsx(oe,{...a,...e,fullWidth:!0,inputRef:t,variant:"outlined",label:l.label,error:!!d,helperText:d?l.errorMessage:""})})},r);case C.INPUT_AUTOCOMPLETE_MULTIPLE:return m.jsx(S,{control:X,name:s,rules:{required:{value:l.required,message:l.errorMessage}},render:({field:{ref:e,onChange:t,...o}})=>m.jsx(qe,{multiple:!0,sx:{width:"100%",mt:2,mb:1},options:p.user.list,defaultValue:l.value,isOptionEqualToValue:(e,t)=>e.id===t.id,getOptionLabel:e=>e.label,onChange:(e,o)=>t(o),renderInput:t=>m.jsx(oe,{...o,...t,fullWidth:!0,inputRef:e,variant:"outlined",label:l.label,error:!!d,helperText:d?l.errorMessage:""})})},r);case C.INPUT_TEXT_AREA:return m.jsx(U,{name:l.name,registerField:s,id:l.id,label:l.label,required:l.required,control:X,error:!!d,helperText:l.errorMessage,value:l.value.toString(),style:{marginLeft:0,width:"100%"},options:l.options,disabled:l.disabled},r);case C.INPUT_DATE_RANGE:return console.log("DEBUG:V",{v:l}),m.jsx(k,{name:l.name,registerField:s,id:l.id,label:l.label,error:!!d,required:l.required,control:X,disabled:l.disabled,helperText:l.errorMessage,value:l.value,style:{marginLeft:0,width:"100%",marginBottom:1,marginTop:2}},r);case C.INPUT_SELECT_MODAL:return m.jsx(D,{name:l.name,registerField:s,id:l.id,label:l.label.toString(),required:l.required,value:l.value.toString(),error:!!d,control:X,helperText:l.errorMessage,style:{marginLeft:0,width:"100%"},disabled:l.disabled,onSelect:e=>{_(s,e),F(s)},SelectInputDialogType:l.SelectInputDialogType??w.DEPARTEMENT},r);default:return m.jsx(oe,{margin:"normal",sx:{ml:{xs:0,md:0},width:{xs:"100%",md:"100%"}},fullWidth:l.fullWidth,label:`${l.label}${l.required?"*":""}`,defaultValue:l.value.toString(),type:l.type,autoFocus:l.autoFocus,autoComplete:l.autoComplete,...E(s,{required:{value:l.required,message:l.errorMessage},disabled:l.disabled,pattern:{value:l.validate.pattern.value,message:l.validate.pattern.message}}),error:!!d,helperText:(null==(i=null==d?void 0:d.value)?void 0:i.message)??""},r)}})),"vendor"===t&&Q.map(((o,a)=>m.jsxs(Y,{sx:{display:"flex",alignItems:"center",flexDirection:{md:"row",xs:"column"}},children:[m.jsx(re,{"aria-label":`remove-${a}`,disabled:"Update"===e,onClick:()=>Q.length>1&&ee(a),sx:{mr:1},children:m.jsx(Be,{})}),Object.keys(o).map(((o,r)=>{var n,i,l;const s=Q[a][o],d=`${t}.${a}.${o}.value`,u=null==(i=null==(n=te.vendor)?void 0:n[a])?void 0:i[o];return"id"===o?null:s.componentType===C.INPUT_AUTOCOMPLETE_SINGLE?m.jsx(S,{control:X,name:d,rules:{required:{value:s.required,message:s.errorMessage}},render:({field:{ref:t,onChange:o,...a}})=>{return m.jsx(qe,{multiple:!1,sx:{width:"100%",mt:2,mb:1},options:"Create"===e?p.vendor.list:(r=p.vendor.list,n=g.detail.data.payments,r.filter((e=>!n.some((t=>t.vendor.id===e.id))))),defaultValue:s.value,isOptionEqualToValue:(e,t)=>e.id===t.id,getOptionLabel:e=>e.label,onChange:(e,t)=>o(t),renderInput:e=>m.jsx(oe,{...a,...e,fullWidth:!0,inputRef:t,variant:"outlined",label:s.label,error:!!u,helperText:u?s.errorMessage:""})});var r,n}},r):m.jsx(B,{name:s.name,registerField:d,id:s.id,label:s.label,required:s.required,control:X,error:!!u,helperText:s.errorMessage,value:(null==(l=null==s?void 0:s.value)?void 0:l.toString())??"",style:{marginLeft:3,width:"100%"},disabled:s.disabled},r)}))]},o.id)))]},o)})),m.jsxs(Y,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",flexDirection:{md:"row",xs:"column"}},children:[m.jsx(J,{sx:{mr:{md:3,xs:0},mb:{md:0,xs:2},width:{md:"200px",xs:"100%"}},fullWidth:!1,disabled:i.loading,size:"large",component:T,to:"/training",variant:"outlined",children:m.jsx(K,{variant:"button",display:"block",gutterBottom:!0,children:"Cancel"})}),m.jsx(le,{type:"submit",loading:i.loading,disabled:i.loading,variant:"contained",size:"large",sx:{width:{md:"200px",xs:"100%"}},children:m.jsx(K,{variant:"button",display:"block",gutterBottom:!0,children:`${e} Training`})})]})]}),m.jsxs(se,{sx:{color:"#fff",display:"flex",flexDirection:"column",zIndex:e=>e.zIndex.drawer+1},open:i.loading,children:[m.jsx(de,{color:"inherit"}),m.jsx(K,{variant:"body2",display:"block",gutterBottom:!0,sx:{mt:2},children:"Create"===e?"Please wait, training form submitting..":"Please wait, training update form submitting.."})]}),m.jsxs(se,{sx:{color:"#fff",display:"flex",flexDirection:"column",zIndex:e=>e.zIndex.drawer+1},open:s.loading,children:[m.jsx(de,{color:"inherit"}),m.jsx(K,{variant:"body2",display:"block",gutterBottom:!0,sx:{mt:2},children:"Create"===e?"Please wait, load training data..":"Please wait, prepare training forms.."})]})]})}),((e,t)=>JSON.stringify(e)===JSON.stringify(t)));export{Je as default};

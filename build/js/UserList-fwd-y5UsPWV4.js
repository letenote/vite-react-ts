import{j as e,C as s,R as t,r,u as o,L as i}from"./vendor-fwd-1SGvIy31.js";import{s as a,n,u as d}from"./main-fwd--n1B72RI.js";import{g as m}from"./getUsers-fwd-mHeYBOiX.js";import p from"./index-fwd-zt72GgeW.js";import{d as l,P as f,a as x}from"./MoreVert-fwd-WWrhY7aJ.js";import{i as j}from"./interopRequireDefault-fwd-TQpPSNg9.js";import{r as c}from"./createSvgIcon-fwd-C5HoRyYL.js";import{d as u,M as g}from"./index-fwd-LcBzpfNx.js";import{M as w}from"./UserCreateAndUpdateDialog-fwd-Zp5pspW4.js";import{M as h}from"./SelectInputDialogType.type-fwd-EhrzjEHx.js";import{M as v}from"./index-fwd-rz4yujvt.js";import{A as C,a as S}from"./API-fwd-wSBNwRC-.js";import{d as y}from"./ToggleOff-fwd-xoTx20q2.js";import{M as b}from"./Menu-fwd-Vl9pMXPK.js";import{C as D,a as M}from"./CardContent-fwd-w9gbeYrB.js";import{C as I}from"./CardHeader-fwd-Efk797OA.js";import A from"./index-fwd-v2U3PscQ.js";import P from"./index-fwd-QlVXGDcN.js";import{C as T}from"./Chip-fwd-PLmggBsV.js";import B from"./index-fwd-hPOcf5d2.js";import{D as L}from"./Divider-fwd-L0kvT4D9.js";import{M as z}from"./MenuItem-fwd-JVQWDuju.js";import O from"./index-fwd-fyRmXZir.js";import{S as R}from"./Stack-fwd-_b9icarT.js";import"./index-fwd-lbVkD5aF.js";import"./createSvgIcon-fwd-3znVHFND.js";import"./index-fwd-8NRQb7QL.js";import"./TransitionGroupContext-fwd-AdrtyOFN.js";import"./Close-fwd-cAl8Tvfj.js";import"./ComponentFormType.enum-fwd-9JVL8E6k.js";import"./index.esm-fwd-rj9UIJ_I.js";import"./populateString-fwd-uH2jbhuZ.js";import"./index-fwd-qYMhiIGX.js";import"./KeyboardArrowLeft-fwd-YQdeLDYs.js";import"./getSelectInputOptions-fwd-ZVToRqqx.js";import"./index-fwd-lWyokz70.js";import"./DialogContent-fwd-CYcOnUyi.js";import"./Modal-fwd-p5WxUrg9.js";import"./utils-fwd-Aa8Nbi8J.js";import"./useSlotProps-fwd-4TF0dLOI.js";import"./Portal-fwd-EmXNK1q8.js";import"./Paper-fwd-WFaa4pXn.js";import"./AppBar-fwd-dzp-VbdY.js";import"./index-fwd-YZzHoVcr.js";import"./index-fwd-goasdrlS.js";import"./Button-fwd-V0oP7Gqc.js";import"./List-fwd-B3qUSFQa.js";import"./ListItem-fwd-iX4GRk4M.js";import"./ListItemText-fwd-f8rlfGNg.js";import"./listItemTextClasses-fwd-v4LoqRQE.js";import"./index-fwd-w_QQ1xSL.js";import"./DialogTitle-fwd-BhLgXYUL.js";import"./Grow-fwd-0-97KQP6.js";import"./dividerClasses-fwd-g7uA4vLh.js";import"./listItemIconClasses-fwd-R0gCvGgm.js";var U={},E=j;Object.defineProperty(U,"__esModule",{value:!0});var k=U.default=void 0,H=E(c()),J=e;k=U.default=(0,H.default)((0,J.jsx)("path",{d:"M9.5 11c1.93 0 3.5 1.57 3.5 3.5S11.43 18 9.5 18 6 16.43 6 14.5 7.57 11 9.5 11m0-2C6.46 9 4 11.46 4 14.5S6.46 20 9.5 20s5.5-2.46 5.5-5.5c0-1.16-.36-2.23-.97-3.12L18 7.42V10h2V4h-6v2h2.58l-3.97 3.97C11.73 9.36 10.66 9 9.5 9"}),"Male");var V={},_=j;Object.defineProperty(V,"__esModule",{value:!0});var N=V.default=void 0,F=_(c()),G=e;N=V.default=(0,F.default)((0,G.jsx)("path",{d:"M17.5 9.5C17.5 6.46 15.04 4 12 4S6.5 6.46 6.5 9.5c0 2.7 1.94 4.93 4.5 5.4V17H9v2h2v2h2v-2h2v-2h-2v-2.1c2.56-.47 4.5-2.7 4.5-5.4m-9 0C8.5 7.57 10.07 6 12 6s3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5"}),"Female");const q=s((s=>e.jsx(b,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...s})))((()=>({"& .MuiPaper-root":{borderRadius:6,marginTop:1,minWidth:180,color:"rgb(55, 65, 81)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18}}}}))),K=t.memo((s=>{const o=new URLSearchParams(location.search),i=parseInt(o.get("page")||"1",10),d=n(),[p,f]=t.useState(null),x=Boolean(p),j=()=>{f(null)},[c,g]=r.useState({open:!1}),[b,O]=r.useState({open:!1,loading:!1}),R=()=>{O({open:!1,loading:!1})};return e.jsxs(D,{children:[e.jsx(I,{action:e.jsx(A,{"aria-label":"settings",onClick:e=>{f(e.currentTarget)},children:e.jsx(l,{})}),title:e.jsxs(P,{sx:{textAlign:"left"},children:[e.jsx(T,{label:s.userData.isActive?"Active":"Inactive",color:s.userData.isActive?"success":"error",variant:"outlined",size:"small",sx:{mb:1}}),e.jsxs(P,{sx:{display:"flex",alignItems:"center",position:"relative"},children:[e.jsx(B,{variant:"body1",gutterBottom:!0,children:s.userData.name}),"male"===s.userData.gender?e.jsx(k,{sx:{fontSize:20,ml:1}}):e.jsx(N,{sx:{fontSize:20,ml:1}})]})]}),subheader:e.jsxs(P,{children:[e.jsx(B,{variant:"body2",gutterBottom:!0,sx:{textAlign:"left"},children:s.userData.nik}),e.jsx(B,{variant:"body2",gutterBottom:!0,sx:{textAlign:"left"},children:s.userData.email})]})}),e.jsxs(M,{sx:{textAlign:"left"},children:[e.jsx(L,{sx:{mb:2}}),e.jsxs(B,{sx:{fontSize:"12px"},color:"text.secondary",children:["Departemen: ",s.userData.departement.name]}),e.jsxs(B,{sx:{fontSize:"12px"},color:"text.secondary",children:["Level: ",s.userData.level.name]}),e.jsxs(B,{sx:{fontSize:"12px"},color:"text.secondary",children:["Division: ",s.userData.division.name]})]}),e.jsxs(q,{id:"user-card-menu",MenuListProps:{"aria-labelledby":"user-card-button"},anchorEl:p,open:x,onClose:j,children:[e.jsxs(z,{onClick:()=>{j(),g({open:!0})},disableRipple:!0,children:[e.jsx(u,{sx:{mr:1.5}}),"Edit"]}),e.jsxs(z,{onClick:()=>{j(),O({open:!0,loading:!1})},disableRipple:!0,children:[e.jsx(y,{sx:{mr:1.5}}),"Inactive"]})]}),c.open&&e.jsx(w,{open:c.open,closeEvent:()=>{g({open:!1})},methodType:h.UPDATE,populate:s.userData}),b.open&&e.jsx(v,{open:b.open,titleButtonDisagree:"Cancel",titleButtonAgree:"Remove",title:"Remove",subTitle:"Are you sure you want to remove this user ?",onClose:R,loading:b.loading,onSubmit:()=>{var e;O((e=>({...e,loading:!0}))),d((e={data:{id:s.userData.id},successCB:()=>{R(),d(m({page:i}))},failedCB:()=>{O((e=>({...e,loading:!1})))}},async s=>{var t,r;try{return await new Promise((e=>setTimeout(e,1e3))),await C({method:"delete",url:"/v1/users/remove",payload:e.data}),s(a({open:!0,autoHideDuration:3e3,severity:"success",message:"User removed"})),e.successCB()}catch(o){return S.isAxiosError(o)&&o.response&&(console.log("errr",(null==(t=o.response)?void 0:t.data).error),s(a({open:!0,autoHideDuration:3e3,severity:"warning",message:(null==(r=o.response)?void 0:r.data.message)??o.message??""}))),e.failedCB()}}))}})]})}),((e,s)=>JSON.stringify(e)===JSON.stringify(s))),W={minHeight:"530px",display:"flex",justifyContent:"center"},$=t.memo((()=>{const s=n(),{user:t}=d((e=>e.pages)),a=o(),l=new URLSearchParams(a.search),j=parseInt(l.get("page")||"1",10);return r.useEffect((()=>{s(m({page:j}))}),[s,j]),e.jsxs(e.Fragment,{children:[t.listLoading?e.jsx(P,{sx:W,children:e.jsx(p,{message:"Loading.."})}):0===t.list.length?e.jsx(P,{sx:W,children:e.jsx(g,{message:"Users Data is Empty"})}):e.jsx(P,{sx:{flexGrow:1},children:e.jsx(O,{container:!0,spacing:{xs:1,md:1},columns:{xs:4,sm:8,md:12},children:t.list.map(((s,t)=>e.jsx(O,{item:!0,xs:12,sm:6,md:3,children:e.jsx(K,{userData:s},t)},t)))})}),e.jsx(R,{spacing:2,sx:{alignItems:"center",mt:3},children:e.jsx(f,{page:j,count:t.totalPage,onChange:(e,t)=>{s(m({page:t}))},renderItem:s=>e.jsx(x,{component:i,to:"/user"+(1===s.page?"":`?page=${s.page}`),...s})})})]})}),((e,s)=>JSON.stringify(e)===JSON.stringify(s)));export{$ as default};

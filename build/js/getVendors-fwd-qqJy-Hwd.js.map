{"version":3,"file":"getVendors-fwd-qqJy-Hwd.js","sources":["../../src/store/slice/page/vendor/action/getVendors.ts"],"sourcesContent":["import { Dispatch } from '@reduxjs/toolkit';\nimport API from '../../../../../helper/API';\nimport { setVendorList, setVendorListLoading } from '../reducer';\nimport request from 'axios';\nimport { setSnackbar } from '../../../components/reducer/snackbar';\nimport { ErrorResposeType } from '../../../../../helper/useHttp';\n\ntype GetVendorsParamType = {\n  page: number;\n  name?: string;\n  status?: string;\n  vendorTypeId?: string;\n};\n\nexport const getVendors =\n  (param: GetVendorsParamType) => async (dispatch: Dispatch) => {\n    try {\n      dispatch(setVendorListLoading({ loading: true }));\n      const { page = 0, name = '', status = '', vendorTypeId = '' } = param;\n      await new Promise((resolve) => setTimeout(resolve, 500));\n      const response = await API({\n        method: 'post',\n        url: '/v1/vendors',\n        payload: { page: page - 1, name, status, vendorTypeId },\n      });\n\n      dispatch(\n        setVendorList({\n          list: response.data.data.vendors,\n          totalPage: response.data.data.pagination.totalPage,\n        })\n      );\n      dispatch(setVendorListLoading({ loading: false }));\n    } catch (error) {\n      if (request.isAxiosError(error) && error.response) {\n        console.log('errr', (error.response?.data as ErrorResposeType).error);\n        dispatch(\n          setSnackbar({\n            open: true,\n            autoHideDuration: 3000,\n            severity: 'warning',\n            message: error.response?.data.message ?? error.message ?? '',\n          })\n        );\n      }\n    }\n  };\n"],"names":["getVendors","param","async","dispatch","setVendorListLoading","loading","page","name","status","vendorTypeId","Promise","resolve","setTimeout","response","API","method","url","payload","setVendorList","list","data","vendors","totalPage","pagination","error","request","isAxiosError","console","log","_a","setSnackbar","open","autoHideDuration","severity","message","_b"],"mappings":"0GAcO,MAAMA,EACVC,GAA+BC,MAAOC,YACjC,IACFA,EAASC,EAAqB,CAAEC,SAAS,KACnC,MAAAC,KAAEA,EAAO,EAAGC,KAAAA,EAAO,UAAIC,EAAS,GAAAC,aAAIA,EAAe,IAAOR,QAC1D,IAAIS,SAASC,GAAYC,WAAWD,EAAS,OAC7C,MAAAE,QAAiBC,EAAI,CACzBC,OAAQ,OACRC,IAAK,cACLC,QAAS,CAAEX,KAAMA,EAAO,EAAGC,OAAMC,SAAQC,kBAG3CN,EACEe,EAAc,CACZC,KAAMN,EAASO,KAAKA,KAAKC,QACzBC,UAAWT,EAASO,KAAKA,KAAKG,WAAWD,aAG7CnB,EAASC,EAAqB,CAAEC,SAAS,WAClCmB,GACHC,EAAQC,aAAaF,IAAUA,EAAMX,WACvCc,QAAQC,IAAI,QAAS,OAAAC,EAAAL,EAAMX,eAAN,EAAAgB,EAAgBT,MAA0BI,OAC/DrB,EACE2B,EAAY,CACVC,MAAM,EACNC,iBAAkB,IAClBC,SAAU,UACVC,SAAS,OAAAC,EAAMX,EAAAX,mBAAUO,KAAKc,UAAWV,EAAMU,SAAW,MAIlE"}
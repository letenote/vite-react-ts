{"version":3,"file":"TrainingFilter-fwd-auiJrYvd.js","sources":["../../src/containers/Training/child/schema/TrainingFormsFilterSchema.schema.ts","../../src/containers/Training/child/TrainingFilter.tsx"],"sourcesContent":["import { ComponentFormType } from '../../../../components/Forms/enum/ComponentFormType.enum';\nimport { TrainingStatusType } from '../enum/TrainingStatusType.enum';\nimport { TrainingFormsFilterType } from '../type/TrainingFormsFilterType.type';\n\nexport const TrainingFormsFilterSchema: TrainingFormsFilterType = {\n  name: {\n    id: 'name',\n    name: 'name',\n    fullWidth: true,\n    label: 'Name',\n    placeholder: 'Name',\n    required: false,\n    errorMessage: 'name required',\n    value: '',\n    disabled: false,\n    type: 'text',\n    componentType: ComponentFormType.INPUT_TEXT,\n    autoFocus: false,\n    autoComplete: '',\n    validate: {\n      pattern: {\n        value: /^/,\n        message: '',\n      },\n    },\n    options: [],\n  },\n  status: {\n    id: 'status',\n    name: 'status',\n    fullWidth: true,\n    label: 'Status',\n    placeholder: 'Status',\n    required: false,\n    errorMessage: 'Status required',\n    value: 'All',\n    disabled: false,\n    type: 'select',\n    componentType: ComponentFormType.INPUT_DROPDOWN,\n    autoFocus: false,\n    autoComplete: '',\n    validate: {\n      pattern: {\n        value: /^/,\n        message: '',\n      },\n    },\n    options: [\n      { value: TrainingStatusType.ALL, label: TrainingStatusType.ALL },\n      { value: TrainingStatusType.PAID, label: TrainingStatusType.PAID },\n      { value: TrainingStatusType.UNPAID, label: TrainingStatusType.UNPAID },\n    ],\n  },\n  date: {\n    id: 'date',\n    name: 'date',\n    fullWidth: true,\n    label: {\n      start: 'Start Date',\n      end: 'End Date',\n    },\n    placeholder: 'Date',\n    required: false,\n    errorMessage: 'date required',\n    value: [null, null],\n    disabled: false,\n    type: 'text',\n    componentType: ComponentFormType.INPUT_DATE_RANGE,\n    autoFocus: false,\n    autoComplete: '',\n    validate: {\n      pattern: {\n        value: /^/,\n        message: '',\n      },\n    },\n    options: [],\n  },\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport LoadingButton from \"@mui/lab/LoadingButton\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport TextField from \"@mui/material/TextField\";\nimport { ComponentFormType } from \"../../../components/Forms/enum/ComponentFormType.enum\";\nimport SelectForm from \"../../../components/Forms/SelectForm\";\nimport DateRangeForm from \"../../../components/Forms/DateRangeForm\";\nimport { DateRange } from \"@mui/x-date-pickers-pro\";\nimport { useAppDispatch } from \"../../../store\";\nimport { useLocation } from \"react-router-dom\";\nimport { TrainingFormsFilterType } from \"./type/TrainingFormsFilterType.type\";\nimport { TrainingFormsFilterSchema } from \"./schema/TrainingFormsFilterSchema.schema\";\nimport { getTrainings } from \"../../../store/slice/page/training/action/getTrainings\";\n\nconst TrainingFilter = () => {\n  const dispatch = useAppDispatch();\n  const location = useLocation();\n  const query = new URLSearchParams(location.search);\n  const page = parseInt(query.get(\"page\") || \"1\", 10);\n  const defaultValues: TrainingFormsFilterType = JSON.parse(\n    JSON.stringify(TrainingFormsFilterSchema)\n  );\n  const form = useForm<TrainingFormsFilterType>({\n    defaultValues,\n  });\n  const { register, formState, handleSubmit, control } = form;\n  const { errors } = formState;\n\n  const onValid = (data: TrainingFormsFilterType) => {\n    dispatch(\n      getTrainings({\n        page,\n        startDate:\n          data.date.value[0] === null ? \"\" : data.date.value[0].toString(),\n        endDate:\n          data.date.value[1] === null ? \"\" : data.date.value[1].toString(),\n        status: data.status.value.toString(),\n        name: data.name.value.toString(),\n      })\n    );\n  };\n\n  return (\n    <Box\n      component=\"form\"\n      sx={{\n        mb: 3,\n        display: \"grid\",\n        gridTemplateColumns: { sm: \"1fr 0.4fr 1fr 0.4fr\" },\n        gap: 2,\n      }}\n      noValidate\n      autoComplete=\"off\"\n      onSubmit={handleSubmit(onValid)}\n    >\n      {Object.keys(defaultValues).map((field) => {\n        const _getField = field as keyof typeof defaultValues;\n        const _registerField = `${defaultValues[_getField].id}.value` as any;\n        switch (defaultValues[_getField].componentType) {\n          case ComponentFormType.INPUT_DROPDOWN:\n            return (\n              <SelectForm\n                key={_getField}\n                name={defaultValues[_getField].name}\n                registerField={_registerField}\n                id={defaultValues[_getField].id}\n                label={defaultValues[_getField].label.toString()}\n                required={defaultValues[_getField].required}\n                control={control}\n                error={false}\n                helperText={defaultValues[_getField].errorMessage}\n                value={defaultValues[_getField].value.toString()}\n                style={{\n                  marginLeft: 0,\n                  width: \"100%\",\n                  marginBottom: 0,\n                  marginTop: 0,\n                  backgroundColorLabel: \"#f5f5f5\",\n                }}\n                options={defaultValues[_getField].options}\n                disabled={defaultValues[_getField].disabled}\n              />\n            );\n          case ComponentFormType.INPUT_DATE_RANGE:\n            return (\n              <DateRangeForm\n                key={_getField}\n                error={false}\n                name={defaultValues[_getField].name}\n                registerField={_registerField}\n                id={defaultValues[_getField].id}\n                label={\n                  defaultValues[_getField].label as {\n                    start: string;\n                    end: string;\n                  }\n                }\n                required={defaultValues[_getField].required}\n                control={control}\n                disabled={defaultValues[_getField].disabled}\n                helperText={defaultValues[_getField].errorMessage}\n                value={defaultValues[_getField].value as DateRange<Date>}\n                style={{\n                  marginLeft: 0,\n                  width: \"100%\",\n                  marginBottom: 0,\n                  marginTop: 0,\n                }}\n              />\n            );\n          default:\n            return (\n              <TextField\n                sx={{ mt: 0, mb: 0 }}\n                key={_getField}\n                margin=\"normal\"\n                fullWidth={defaultValues[_getField].fullWidth}\n                label={defaultValues[_getField].label.toString()}\n                type={defaultValues[_getField].type}\n                autoFocus={defaultValues[_getField].autoFocus}\n                autoComplete={defaultValues[_getField].autoComplete}\n                {...register(_registerField, {\n                  required: {\n                    value: defaultValues[_getField].required,\n                    message: defaultValues[_getField].errorMessage,\n                  },\n                  disabled: defaultValues[_getField].disabled,\n                  pattern: {\n                    value: defaultValues[_getField].validate.pattern.value,\n                    message: defaultValues[_getField].validate.pattern.message,\n                  },\n                })}\n                error={!!errors[_getField]}\n                helperText={errors[_getField]?.value?.message}\n              />\n            );\n        }\n      })}\n      <LoadingButton\n        fullWidth\n        type=\"submit\"\n        loading={false}\n        disabled={false}\n        variant=\"contained\"\n        size=\"large\"\n        sx={{ mt: 0, mb: 0 }}\n      >\n        <Typography variant=\"button\" display=\"block\" gutterBottom>\n          Search\n        </Typography>\n      </LoadingButton>\n    </Box>\n  );\n};\n\nconst MemoizedTrainingFilter = React.memo(\n  TrainingFilter,\n  (prevProps, nextProps) => {\n    return JSON.stringify(prevProps) === JSON.stringify(nextProps);\n  }\n);\n\nexport default MemoizedTrainingFilter;\n"],"names":["TrainingFormsFilterSchema","name","id","fullWidth","label","placeholder","required","errorMessage","value","disabled","type","componentType","ComponentFormType","INPUT_TEXT","autoFocus","autoComplete","validate","pattern","message","options","status","INPUT_DROPDOWN","TrainingStatusType","ALL","PAID","UNPAID","date","start","end","INPUT_DATE_RANGE","MemoizedTrainingFilter","React","memo","dispatch","useAppDispatch","location","useLocation","query","URLSearchParams","search","page","parseInt","get","defaultValues","JSON","parse","stringify","form","useForm","register","formState","handleSubmit","control","errors","jsxRuntimeExports","jsxs","Box","component","sx","mb","display","gridTemplateColumns","sm","gap","noValidate","onSubmit","data","getTrainings","startDate","toString","endDate","children","Object","keys","map","field","_getField","_registerField","jsx","SelectForm","registerField","error","helperText","style","marginLeft","width","marginBottom","marginTop","backgroundColorLabel","DateRangeForm","TextField","mt","margin","_b","_a","LoadingButton","loading","variant","size","Typography","gutterBottom","prevProps","nextProps"],"mappings":"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"}
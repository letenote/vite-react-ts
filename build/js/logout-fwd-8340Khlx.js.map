{"version":3,"file":"logout-fwd-8340Khlx.js","sources":["../../src/store/slice/settings/user/actions/logout.ts"],"sourcesContent":["import { Dispatch } from \"@reduxjs/toolkit\";\nimport { setAuthed } from \"../reducer/user\";\nimport { setSnackbar } from \"../../../components/reducer/snackbar\";\nimport API from \"../../../../../helper/API\";\n\nexport const logout = () => async (dispatch: Dispatch) => {\n  try {\n    await API({\n      method: \"post\",\n      url: \"/v1/users/logout\",\n      payload: {},\n    });\n\n    return autoLogout(dispatch, \"User success logout\");\n  } catch (error) {\n    return autoLogout(dispatch, \"User success logout\");\n  }\n};\n\nexport const autoLogout = async (dispatch: Dispatch, message: string) => {\n  dispatch(\n    setSnackbar({\n      open: true,\n      autoHideDuration: 3000,\n      severity: \"info\",\n      message,\n    })\n  );\n\n  localStorage.removeItem(\"_token\");\n  await new Promise((resolve) => setTimeout(resolve, 500));\n  return dispatch(\n    setAuthed({\n      authed: false,\n      name: \"\",\n      email: \"\",\n      gender: \"\",\n      id: \"\",\n      nik: \"\",\n      role: \"\",\n      departement: \"\",\n      permissions: [],\n    })\n  );\n};\n"],"names":["logout","async","dispatch","API","method","url","payload","autoLogout","error","message","setSnackbar","open","autoHideDuration","severity","localStorage","removeItem","Promise","resolve","setTimeout","setAuthed","authed","name","email","gender","id","nik","role","departement","permissions"],"mappings":"4FAKa,MAAAA,EAAS,IAAMC,MAAOC,IAC7B,IAOK,aANDC,EAAI,CACRC,OAAQ,OACRC,IAAK,mBACLC,QAAS,CAAC,IAGLC,EAAWL,EAAU,6BACrBM,GACA,OAAAD,EAAWL,EAAU,sBAC9B,GAGWK,EAAaN,MAAOC,EAAoBO,KACnDP,EACEQ,EAAY,CACVC,MAAM,EACNC,iBAAkB,IAClBC,SAAU,OACVJ,aAIJK,aAAaC,WAAW,gBAClB,IAAIC,SAASC,GAAYC,WAAWD,EAAS,OAC5Cf,EACLiB,EAAU,CACRC,QAAQ,EACRC,KAAM,GACNC,MAAO,GACPC,OAAQ,GACRC,GAAI,GACJC,IAAK,GACLC,KAAM,GACNC,YAAa,GACbC,YAAa"}
import{r as e,_ as t,m as o,W as r,K as n,e as i,j as s,f as a,l,k as u,s as c,b as p,M as d,H as f,h,i as m,y as v,d as g}from"./vendor-fwd-1SGvIy31.js";import{M as P}from"./Modal-fwd-p5WxUrg9.js";import{P as b}from"./Paper-fwd-WFaa4pXn.js";import{G as y}from"./Grow-fwd-0-97KQP6.js";import{u as w,i as M}from"./useSlotProps-fwd-4TF0dLOI.js";import{L as x}from"./List-fwd-B3qUSFQa.js";const E=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function S(e,t,o){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:o?null:e.firstChild}function C(e,t,o){return e===t?o?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:o?null:e.lastChild}function T(e,t){if(void 0===t)return!0;let o=e.innerText;return void 0===o&&(o=e.textContent),o=o.trim().toLowerCase(),0!==o.length&&(t.repeating?o[0]===t.keys[0]:0===o.indexOf(t.keys.join("")))}function k(e,t,o,r,n,i){let s=!1,a=n(e,t,!!t&&o);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&T(a,i)&&!t)return a.focus(),!0;a=n(e,a,o)}return!1}const L=e.forwardRef((function(l,u){const{actions:c,autoFocus:p=!1,autoFocusItem:d=!1,children:f,className:h,disabledItemsFocusable:m=!1,disableListWrap:v=!1,onKeyDown:g,variant:P="selectedMenu"}=l,b=t(l,E),y=e.useRef(null),w=e.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});o((()=>{p&&y.current.focus()}),[p]),e.useImperativeHandle(c,(()=>({adjustStyleForScrollbar:(e,t)=>{const o=!y.current.style.width;if(e.clientHeight<y.current.clientHeight&&o){const o=`${r(n(e))}px`;y.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=o,y.current.style.width=`calc(100% + ${o})`}return y.current}})),[]);const M=i(y,u);let L=-1;e.Children.forEach(f,((t,o)=>{e.isValidElement(t)?(t.props.disabled||("selectedMenu"===P&&t.props.selected||-1===L)&&(L=o),L===o&&(t.props.disabled||t.props.muiSkipListHighlight||t.type.muiSkipListHighlight)&&(L+=1,L>=f.length&&(L=-1))):L===o&&(L+=1,L>=f.length&&(L=-1))}));const D=e.Children.map(f,((t,o)=>{if(o===L){const o={};return d&&(o.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===P&&(o.tabIndex=0),e.cloneElement(t,o)}return t}));return s.jsx(x,a({role:"menu",ref:M,className:h,onKeyDown:e=>{const t=y.current,o=e.key,r=n(t).activeElement;if("ArrowDown"===o)e.preventDefault(),k(t,r,v,m,S);else if("ArrowUp"===o)e.preventDefault(),k(t,r,v,m,C);else if("Home"===o)e.preventDefault(),k(t,null,v,m,S);else if("End"===o)e.preventDefault(),k(t,null,v,m,C);else if(1===o.length){const n=w.current,i=o.toLowerCase(),s=performance.now();n.keys.length>0&&(s-n.lastTime>500?(n.keys=[],n.repeating=!0,n.previousKeyMatched=!0):n.repeating&&i!==n.keys[0]&&(n.repeating=!1)),n.lastTime=s,n.keys.push(i);const a=r&&!n.repeating&&T(r,n);n.previousKeyMatched&&(a||k(t,r,!1,m,S,n))?e.preventDefault():n.previousKeyMatched=!1}g&&g(e)},tabIndex:p?0:-1},b,{children:D}))}));function D(e){return l("MuiPopover",e)}u("MuiPopover",["root","paper"]);const F=["onEntering"],R=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],j=["slotProps"];function z(e,t){let o=0;return"number"==typeof t?o=t:"center"===t?o=e.height/2:"bottom"===t&&(o=e.height),o}function N(e,t){let o=0;return"number"==typeof t?o=t:"center"===t?o=e.width/2:"right"===t&&(o=e.width),o}function O(e){return[e.horizontal,e.vertical].map((e=>"number"==typeof e?`${e}px`:e)).join(" ")}function H(e){return"function"==typeof e?e():e}const I=c(P,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),K=c(b,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),A=e.forwardRef((function(o,r){var l,u,c;const v=p({props:o,name:"MuiPopover"}),{action:g,anchorEl:P,anchorOrigin:b={vertical:"top",horizontal:"left"},anchorPosition:x,anchorReference:E="anchorEl",children:S,className:C,container:T,elevation:k=8,marginThreshold:L=16,open:A,PaperProps:W={},slots:$,slotProps:G,transformOrigin:V={vertical:"top",horizontal:"left"},TransitionComponent:B=y,transitionDuration:Q="auto",TransitionProps:{onEntering:U}={},disableScrollLock:X=!1}=v,Y=t(v.TransitionProps,F),_=t(v,R),q=null!=(l=null==G?void 0:G.paper)?l:W,J=e.useRef(),Z=i(J,q.ref),ee=a({},v,{anchorOrigin:b,anchorReference:E,elevation:k,marginThreshold:L,externalPaperSlotProps:q,transformOrigin:V,TransitionComponent:B,transitionDuration:Q,TransitionProps:Y}),te=(e=>{const{classes:t}=e;return m({root:["root"],paper:["paper"]},D,t)})(ee),oe=e.useCallback((()=>{if("anchorPosition"===E)return x;const e=H(P),t=(e&&1===e.nodeType?e:n(J.current).body).getBoundingClientRect();return{top:t.top+z(t,b.vertical),left:t.left+N(t,b.horizontal)}}),[P,b.horizontal,b.vertical,x,E]),re=e.useCallback((e=>({vertical:z(e,V.vertical),horizontal:N(e,V.horizontal)})),[V.horizontal,V.vertical]),ne=e.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},o=re(t);if("none"===E)return{top:null,left:null,transformOrigin:O(o)};const r=oe();let n=r.top-o.vertical,i=r.left-o.horizontal;const s=n+t.height,a=i+t.width,l=d(H(P)),u=l.innerHeight-L,c=l.innerWidth-L;if(null!==L&&n<L){const e=n-L;n-=e,o.vertical+=e}else if(null!==L&&s>u){const e=s-u;n-=e,o.vertical+=e}if(null!==L&&i<L){const e=i-L;i-=e,o.horizontal+=e}else if(a>c){const e=a-c;i-=e,o.horizontal+=e}return{top:`${Math.round(n)}px`,left:`${Math.round(i)}px`,transformOrigin:O(o)}}),[P,E,oe,re,L]),[ie,se]=e.useState(A),ae=e.useCallback((()=>{const e=J.current;if(!e)return;const t=ne(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,se(!0)}),[ne]);e.useEffect((()=>(X&&window.addEventListener("scroll",ae),()=>window.removeEventListener("scroll",ae))),[P,X,ae]);e.useEffect((()=>{A&&ae()})),e.useImperativeHandle(g,(()=>A?{updatePosition:()=>{ae()}}:null),[A,ae]),e.useEffect((()=>{if(!A)return;const e=f((()=>{ae()})),t=d(P);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[P,A,ae]);let le=Q;"auto"!==Q||B.muiSupportAuto||(le=void 0);const ue=T||(P?n(H(P)).body:void 0),ce=null!=(u=null==$?void 0:$.root)?u:I,pe=null!=(c=null==$?void 0:$.paper)?c:K,de=w({elementType:pe,externalSlotProps:a({},q,{style:ie?q.style:a({},q.style,{opacity:0})}),additionalProps:{elevation:k,ref:Z},ownerState:ee,className:h(te.paper,null==q?void 0:q.className)}),fe=w({elementType:ce,externalSlotProps:(null==G?void 0:G.root)||{},externalForwardedProps:_,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:ue,open:A},ownerState:ee,className:h(te.root,C)}),{slotProps:he}=fe,me=t(fe,j);return s.jsx(ce,a({},me,!M(ce)&&{slotProps:he,disableScrollLock:X},{children:s.jsx(B,a({appear:!0,in:A,onEntering:(e,t)=>{U&&U(e,t),ae()},onExited:()=>{se(!1)},timeout:le},Y,{children:s.jsx(pe,a({},de,{children:S}))}))}))}));function W(e){return l("MuiMenu",e)}u("MuiMenu",["root","paper","list"]);const $=["onEntering"],G=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],V={vertical:"top",horizontal:"right"},B={vertical:"top",horizontal:"left"},Q=c(A,{shouldForwardProp:e=>v(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),U=c(K,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),X=c(L,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),Y=e.forwardRef((function(o,r){var n,i;const l=p({props:o,name:"MuiMenu"}),{autoFocus:u=!0,children:c,className:d,disableAutoFocusItem:f=!1,MenuListProps:v={},onClose:P,open:b,PaperProps:y={},PopoverClasses:M,transitionDuration:x="auto",TransitionProps:{onEntering:E}={},variant:S="selectedMenu",slots:C={},slotProps:T={}}=l,k=t(l.TransitionProps,$),L=t(l,G),D=g(),F="rtl"===D.direction,R=a({},l,{autoFocus:u,disableAutoFocusItem:f,MenuListProps:v,onEntering:E,PaperProps:y,transitionDuration:x,TransitionProps:k,variant:S}),j=(e=>{const{classes:t}=e;return m({root:["root"],paper:["paper"],list:["list"]},W,t)})(R),z=u&&!f&&b,N=e.useRef(null);let O=-1;e.Children.map(c,((t,o)=>{e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===S&&t.props.selected||-1===O)&&(O=o))}));const H=null!=(n=C.paper)?n:U,I=null!=(i=T.paper)?i:y,K=w({elementType:C.root,externalSlotProps:T.root,ownerState:R,className:[j.root,d]}),A=w({elementType:H,externalSlotProps:I,ownerState:R,className:j.paper});return s.jsx(Q,a({onClose:P,anchorOrigin:{vertical:"bottom",horizontal:F?"right":"left"},transformOrigin:F?V:B,slots:{paper:H,root:C.root},slotProps:{root:K,paper:A},open:b,ref:r,transitionDuration:x,TransitionProps:a({onEntering:(e,t)=>{N.current&&N.current.adjustStyleForScrollbar(e,D),E&&E(e,t)}},k),ownerState:R},L,{classes:M,children:s.jsx(X,a({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),P&&P(e,"tabKeyDown"))},actions:N,autoFocus:u&&(-1===O||f),autoFocusItem:z,variant:S},v,{className:h(j.list,v.className),children:c}))}))}));export{Y as M};
